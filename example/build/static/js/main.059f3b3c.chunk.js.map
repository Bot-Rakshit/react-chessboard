{"version":3,"sources":["boards/BasicBoard.js","boards/ClickToMove.js","boards/PlayVsPlay.js","boards/PlayVsRandom.js","boards/PremoveVsRandom.js","boards/RandomVsRandom.js","boards/SquareStyles.js","boards/StyledBoard.js","index.js","../../dist/index.esm.js"],"names":["BasicBoard","boardWidth","id","expectingAlternateMoves","ClickToMove","useState","Chess","game","setGame","moveFrom","setMoveFrom","rightClickedSquares","setRightClickedSquares","moveSquares","setMoveSquares","optionSquares","setOptionSquares","safeGameMutate","modify","g","update","animationDuration","arePiecesDraggable","position","fen","onSquareClick","square","resetFirstMove","moves","verbose","length","newSquares","map","move","to","background","get","color","borderRadius","getMoveOptions","from","promotion","onSquareRightClick","colour","backgroundColor","undefined","customBoardStyle","boxShadow","customSquareStyles","className","onClick","reset","undo","PlayVsPlay","onPieceDrop","sourceSquare","targetSquare","PlayVsRandom","makeRandomMove","possibleMoves","game_over","in_draw","randomIndex","Math","floor","random","setTimeout","PremoveVsRandom","currentTimeout","setCurrentTimeout","chessboardRef","useRef","arePremovesAllowed","isDraggablePiece","piece","newTimeout","ref","current","clearPremoves","clearTimeout","RandomVsRandom","latestTimeout","setLatestTimeout","timeout","useEffect","SquareStyles","onMouseOverSquare","onMouseOutSquare","Object","keys","StyledBoard","pieces","boardOrientation","customDarkSquareStyle","customLightSquareStyle","customPieces","returnPieces","p","squareWidth","style","width","height","src","alt","App","chessboardSize","setChessboardSize","selectedBoard","setSelectedBoard","handleResize","display","document","getElementsByClassName","offsetWidth","window","addEventListener","removeEventListener","getSelectedBoard","ReactDOM","render","getElementById","createTransition","event","check","_isMBTransition","TouchTransition","touches","MouseTransition","type","indexOf","_createForOfIteratorHelper","o","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray$8","n","prototype","toString","call","slice","constructor","name","test","_unsupportedIterableToArray$8","i","F","s","done","value","e","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","PreviewList","_this","this","instance","Constructor","_classCallCheck$i","register","preview","previews","push","unregister","index","splice","backendChanged","backend","_step","_iterator","_toConsumableArray$1","_arrayLikeToArray$7","_arrayWithoutHoles$1","iter","_iterableToArray$1","_unsupportedIterableToArray$7","_nonIterableSpread$1","_default","manager","context","sourceOptions","_classCallCheck$h","setup","isSetUp","Error","addEventListeners","backends","teardown","removeEventListeners","connectDragSource","_len","arguments","args","_key","connectBackend","connectDragPreview","_len2","_key2","connectDropTarget","_len3","_key3","previewEnabled","target","forEach","transition","backendSwitcher","oldBackend","some","nodes","node","handler","callBackend","func","newBackend","skipDispatchOnTransition","newEvent","createEvent","initEvent","bubbles","cancelable","dispatchEvent","_this$backends$_this$","apply","nodeId","concat","_this$nodes$nodeId","r","options","assign","Boolean","MultiBackend","propTypes","exports","reactIs$1","reactIs_production_min","b","for","c","d","h","k","l","m","q","t","v","w","x","y","z","a","u","$$typeof","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","getOwnPropertySymbols$1","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","test1","String","getOwnPropertyNames","test2","fromCharCode","join","test3","split","letter","shouldUseNative","checkPropTypes$1","typeSpecs","values","location","componentName","getStack","resetWarningCache","process","Function","bind","emptyFunction","emptyFunctionWithReset","shim","props","propName","propFullName","secret","ReactPropTypesSecret_1","getShim","isRequired","ReactPropTypes","array","bool","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","factoryWithThrowingShims","HandlerRole","DndContext","createContext","dragDropManager","invariant","condition","format","error","argIndex","replace","framesToPop","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","clientOffset","sourceClientOffset","payload","_typeof$5","obj","path","defaultValue","reduce","without$1","items","item","filter","isObject","input","xor","itemsA","itemsB","Map","insertItem","set","has","result","count","key","ResetCoordinatesAction","createBeginDrag","sourceIds","publishSource","_options$publishSourc","getSourceClientOffset","monitor","getMonitor","registry","getRegistry","dispatch","verifyInvariants$1","sourceId","getDraggableSource","verifyGetSourceClientOffsetIsFunction","source","getSource","beginDrag","verifyItemIsObject","pinSource","itemType","getSourceType","isSourcePublic","isDragging","canDragSource","createPublishDragSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","_ref","verifyTargetIdsIsArray","targetIds","checkInvariants","getItemType","removeNonMatchingTargetIds","hoverAllTargets","didDrop","targetId","lastIndexOf","getTarget","getTargetType","hover","ownKeys$4","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread$4","_defineProperty$i","getOwnPropertyDescriptors","defineProperties","defineProperty","configurable","writable","createDrop","verifyInvariants","getDroppableTargets","dropResult","determineDropResult","action","drop","verifyDropResultType","getDropResult","getTargetIds","canDropOnTarget","reverse","createEndDrag","verifyIsDragging","getSourceId","endDrag","unpinSource","_defineProperties$g","descriptor","DragDropManagerImpl","store","_classCallCheck$g","handleRefCountChange","shouldSetUp","getState","refCount","subscribe","protoProps","staticProps","actions","publishDragSource","createDragDropActions","boundActions","actionCreator","formatProdErrorMessage","code","$$observable","observable","randomString","substring","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject$1","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","listener","isSubscribed","listeners","replaceReducer","nextReducer","outerSubscribe","observer","observeState","unsubscribe","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","isEqual","ownKeys$3","_objectSpread$3","_defineProperty$h","initialState$1","initialSourceClientOffset","initialClientOffset","reduce$5","state","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","ownKeys$2","_objectSpread$2","_defineProperty$g","initialState","reduce$4","reduce$3","NONE","ALL","areDirty","dirtyIds","handlerIds","reduce$2","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","didChange","prevInnermostTargetId","innermostTargetId","reduce$1","ownKeys$1","_objectSpread$1","_defineProperty$f","dirtyHandlerIds","dragOffset","dragOperation","stateId","subtract","_defineProperties$f","__IS_NONE__","__IS_ALL__","DragDropMonitorImpl","_classCallCheck$f","prevStateId","handleChange","currentStateId","_this2","previousState","nextState","canDrag","canDrop","shallow","add","getDifferenceFromInitialOffset","nextUniqueId","_typeof$4","validateType","allowArray","rawAsap","task","queue","requestFlush","flush","currentIndex","scan","newLength","scope","global","self","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromTimer","callback","timeoutHandle","handleTimer","intervalHandle","setInterval","clearInterval","toggle","createTextNode","observe","characterData","data","makeRequestCallFromMutationObserver","freeTasks","pendingErrors","requestErrorThrow","shift","asap","rawTask","pop","RawTask","onerror","_defineProperties$e","_slicedToArray$5","_arrayWithHoles$5","_arr","_n","_d","_s","_i","_iterableToArrayLimit$5","_arrayLikeToArray$6","_unsupportedIterableToArray$6","_nonIterableRest$5","getNextHandlerId","role","SOURCE","TARGET","parseRoleFromHandlerId","handlerId","mapContainsValue","searchValue","entries","isDone","_entries$next","HandlerRegistryImpl","_classCallCheck$e","types","dragSources","dropTargets","pinnedSourceId","pinnedSource","validateSourceContract","addHandler","addSource","validateTargetContract","addTarget","includePinned","isSourceId","isPinned","isTargetId","removeSource","delete","removeTarget","createDragDropManager","backendFactory","globalContext","backendOptions","debugMode","makeStoreInstance","receiveBackend","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId","_excluded","_slicedToArray$4","_arrayWithHoles$4","_iterableToArrayLimit$4","_arrayLikeToArray$5","_unsupportedIterableToArray$5","_nonIterableRest$4","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","INSTANCE_SYM","DndProvider$1","memo","children","_getDndContextValue2","getGlobalContext","ctx","createSingletonDndContext","isGlobalInstance","getDndContextValue","jsx","Provider","_defineProperties$d","_defineProperty$e","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","_classCallCheck$d","internalMonitor","isDraggingSource","subscribeToStateChange","isOverTarget","subscribeToOffsetChange","getItem","getInitialClientOffset","getInitialSourceClientOffset","getClientOffset","_defineProperties$c","_defineProperty$d","isCallingCanDrop","DropTargetMonitorImpl","_classCallCheck$c","throwIfCompositeComponentElement","displayName","wrapConnectorHooks","hooks","wrappedHooks","hook","endsWith","wrappedHook","elementOrNode","isValidElement","cloneWithRef","wrapHookToRecognizeElement","setRef","newRef","previousRef","cloneElement","_typeof$3","isRef","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","_defineProperties$b","_defineProperty$c","SourceConnector","_classCallCheck$b","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","newHandlerId","reconnect","dragSourceOptionsInternal","dragPreviewOptionsInternal","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","dragSourceUnsubscribe","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","_defineProperties$a","_defineProperty$b","TargetConnector","_classCallCheck$a","dropTarget","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","didDropTargetChange","didOptionsChange","disconnectDropTarget","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","dropTargetOptionsInternal","_typeof$2","isRefable","C","Component","_item$$$typeof","isRefForwardingComponent","isPlainObject","isObjectLike","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","KNOWN_STATICS","caller","callee","arity","MEMO_STATICS","TYPE_STATICS","getStatics","component","objectPrototype","hoistStatics","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","_typeof$1","_classCallCheck$9","_defineProperties$9","_createClass$9","_inherits","subClass","superClass","create","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_defineProperty$a","useIsomorphicLayoutEffect","useLayoutEffect","_typeof","_defineProperties$8","_defineProperty$9","DragSourceImpl","spec","connector","_classCallCheck$8","_result","globalMonitor","end","useDragDropManager","useContext","_slicedToArray$3","_arrayWithHoles$3","_iterableToArrayLimit$3","_arrayLikeToArray$4","_unsupportedIterableToArray$4","_nonIterableRest$3","useRegisteredDragSource","useMemo","useDragSource","useDragType","_registerSource2","registerSource","receiveHandlerId","_toConsumableArray","_arrayLikeToArray$3","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray$3","_nonIterableSpread","useOptionalFactory","arg","deps","memoDeps","fastDeepEqual","equal","RegExp","flags","_slicedToArray$2","_arrayWithHoles$2","_iterableToArrayLimit$2","_arrayLikeToArray$2","_unsupportedIterableToArray$2","_nonIterableRest$2","useCollector","collect","onUpdate","_useState2","collected","setCollected","updateCollected","useCallback","nextValue","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_arrayLikeToArray$1","_unsupportedIterableToArray$1","_nonIterableRest$1","useCollectedProps","collector","onCollect","_useCollector2","getHandlerId","useMonitorOutput","useConnectDragSource","useConnectDragPreview","useDrag","specArg","begin","useDragSourceMonitor","getBackend","useDragSourceConnector","previewOptions","_defineProperties$7","_defineProperty$8","DropTargetImpl","_classCallCheck$7","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","useRegisteredDropTarget","useDropTarget","accept","useAccept","_registerTarget2","registerTarget","useConnectDropTarget","useDrop","useDropTargetMonitor","useDropTargetConnector","_extends","PreviewPortalContext","React","DndProvider","previewPortal","createElement","memoize","fn","_defineProperties$6","_defineProperty$7","EnterLeaveCounter","isNodeInDocument","_classCallCheck$6","enteringNode","previousLength","entered","Set","union","contains","leavingNode","isFirefox","navigator","userAgent","isSafari","safari","_defineProperties$5","_defineProperty$6","MonotonicInterpolant","xs","ys","_classCallCheck$5","indexes","sort","dx","dy","dxs","ms","c1s","_i2","m2","mNext","dxNext","common","c2s","c3s","_i3","c1","invDx","_common","mid","low","high","xHere","diff","max","diffSq","getNodeClientOffset$1","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","top","left","getEventClientOffset$1","clientX","clientY","getDragPreviewOffset","sourceNode","anchorPoint","offsetPoint","isImage","_document$documentEle","nodeName","documentElement","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","sourceHeight","offsetHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","calculateYOffset","_nativeTypesConfig","FILE","URL","TEXT","HTML","NativeTypes","freeze","getDataFromDataTransfer","dataTransfer","typesToTry","resultSoFar","typeToTry","getData","_defineProperty$5","nativeTypesConfig","exposeProperties","files","matchesTypes","html","urls","text","_defineProperties$4","_defineProperty$4","NativeDragSource","config","_classCallCheck$4","initializeExposedProperties","property","console","warn","newProperties","handle","matchNativeItemType","dataTransferTypes","nativeItemType","_defineProperties$3","_defineProperty$3","OptionsReader$1","OptionsReader","_classCallCheck$3","optionsArgs","_this$globalContext","_this$optionsArgs","rootElement","ownKeys","_objectSpread","_defineProperty$2","_defineProperties$2","emptyImage","HTML5BackendImpl","_classCallCheck$2","sourceNodes","isDraggingNativeItem","currentNativeHandle","currentNativeSource","body","currentDragSourceNode","clearCurrentDragSourceNode","dragStartSourceIds","defaultPrevented","nativeType","setDragImage","sourcePreviewNodes","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","setCurrentDragSourceNode","captureDraggingState","beginDragNativeItem","hasAttribute","preventDefault","dragEnterTargetIds","enterLeaveCounter","enter","altKeyPressed","altKey","dropEffect","getCurrentDropEffect","dragOverTargetIds","leave","endDragNativeItem","_this$currentNativeSo","dropTargetIds","loadDataTransfer","dragDrop","tagName","isContentEditable","getActions","_this$dragStartSource","_this$dragOverTargetI","size","sourcePreviewNodeOptions","sourceNodeOptions","root","__isReactDndBackendSetUp","_this$window","asyncEndDragFrameId","cancelAnimationFrame","_this3","handleDragStart","handleSelectStart","setAttribute","_this4","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","createNativeDragSource","_this5","mouseMoveTimeoutTimer","_this5$rootElement","endDragIfSourceWasRemovedFromDOM","_this$window2","unshift","ListenerType","MouseButtons","MouseButton","eventShouldStartDrag","button","isTouchEvent","targetTouches","getEventClientOffset","lastTargetTouchFallback","getEventClientTouchOffset","supportsPassive","supported","_defineProperties$1","_defineProperty$1","_eventNames","_classCallCheck$1","_this$args$delay","delay","scrollAngleRanges","getDropTargetElementsAtPoint","_this$args$ignoreCont","ignoreContextMenu","_this$args$enableHove","enableHoverOutsideTarget","_this$args$enableKeyb","enableKeyboardEvents","_this$args$enableMous","enableMouseEvents","_this$args$enableTouc","enableTouchEvents","touchSlop","_this$args$delayTouch","_this$args","_this$args2","delayTouchStart","_this$args$delayMouse","_this$args3","_this$args4","delayMouseStart","_this$context","_this$args5","_defineProperties","_defineProperty","eventNames","mouse","start","contextmenu","touch","keyboard","keydown","TouchBackendImpl","_classCallCheck","getNodeClientOffset","moveStartSourceIds","_mouseClientOffset","waitingForDelay","handleTopMoveStart","_evt","x1","y1","x2","y2","_isScrolling","angleRanges","angle","atan2","PI","inAngleRanges","sqrt","pow","abs","installSourceNodeRemovalObserver","dragOverTargetNodes","targetNodes","elementsAtPoint","elementsFromPoint","elementsAtPointExtended","currentNode","orderedDragOverTargetIds","_getDropTargetId","ids","targetNode","buttons","eventShouldEndDrag","uninstallSourceNodeRemovalObserver","listenerTypes","getTopMoveStartHandler","handleTopMoveStartCapture","handleTopMove","handleTopMoveCapture","handleTopMoveEndCapture","handleCancelOnEscape","subject","capture","passive","listenerType","evt","handleMoveStart","handleMove","coords","droppedOn","elementFromPoint","childMatch","handleTopMoveStartDelay","draggedSourceNode","draggedSourceNodeRemovalObserver","resurrectSourceNode","childList","removeAttribute","appendChild","disconnect","HTML5toTouch","COLUMNS","chessboardPropTypes","clearPremovesOnRightClick","customDropSquareStyle","customPremoveDarkSquareStyle","customPremoveLightSquareStyle","dropOffBoardAction","getPositionObject","onDragOverSquare","onPieceClick","showBoardNotation","defaultPieces","wP","xmlns","version","opacity","fill","fillOpacity","fillRule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeDasharray","strokeOpacity","wR","jsxs","wN","transform","wB","wQ","cx","cy","wK","bP","bR","bN","bB","bQ","bK","startPositionObject","a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","d1","e1","f1","g1","h1","isString","convertPositionToObject","fenToObj","validFen","pos","validSquare","validPieceCode","validPositionObject","rows","currentRow","row","colIdx","j","search","parseInt","fenToPieceCode","chunks","expandFenEmptySquares","toLowerCase","toUpperCase","ChessboardContext","useChessboard","ChessboardProvider","forwardRef","showSparePieces","currentPosition","setCurrentPosition","positionDifferences","setPositionDifferences","lastPieceColour","setLastPieceColour","premoves","setPremoves","premovesRef","chessPieces","setChessPieces","manualDrop","setManualDrop","previousTimeout","setPreviousTimeout","screenSize","setScreenSize","waitingForAnimation","setWaitingForAnimation","useImperativeHandle","innerWidth","innerHeight","newPosition","differences","difference","removed","added","getPositionDifferences","newPieceColour","isDifferent","isDifferentFromStart","premove","sourceSq","targetSq","oldPremoves","attemptPremove","handleSetPosition","newOnDropPosition","Notation","col","whiteColor","blackColor","isRow","isColumn","getRow","getColumn","notationStyle","numericStyle","alphaStyle","alignSelf","paddingLeft","fontSize","paddingRight","fontFamily","zIndex","Piece","getSquareCoordinates","getSingleSquareCoordinates","isPremovedPiece","touchAction","cursor","pieceStyle","setPieceStyle","drag","Image","oldPieceStyle","hidePiece","find","removedPiece","newSquare","droppedPiece","viewBox","Square","squareColor","setSquares","squareHasPremove","squareRef","isOver","oldSquares","defaultSquareStyle","onMouseOver","onMouseOut","onDragEnter","onContextMenu","center","justifyContent","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","Squares","boardStyles","_","rowStyles","flexWrap","errorImage","whiteKing","shapeRendering","textRendering","imageRendering","clipRule","ErrorBoundary","WhiteKing","showError","container","whiteKingStyle","alignItems","flexDirection","Board","squares","squareHasPremoveTarget","CustomDragLayer","DecoratedComponent","Decorated","_options$arePropsEqua","arePropsEqual","DragLayerContainer","_Component","_super","createRef","isCurrentlyMounted","getCurrentState","setState","nextProps","unsubscribeFromOffsetChange","unsubscribeFromStateChange","Consumer","receiveDragDropManager","DragLayer","currentOffset","pointerEvents","WebkitTransform","getItemStyle","Chessboard"],"mappings":"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","file":"static/js/main.059f3b3c.chunk.js","sourcesContent":["import { Chessboard } from 'react-chessboard';\r\n\r\nexport default function BasicBoard({ boardWidth }) {\r\n  return (\r\n    <div>\r\n      <Chessboard id=\"BasicBoard\" boardWidth={boardWidth} expectingAlternateMoves={false} />\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport Chess from 'chess.js';\r\n\r\nimport { Chessboard } from 'react-chessboard';\r\n\r\nexport default function ClickToMove({ boardWidth }) {\r\n  const [game, setGame] = useState(new Chess());\r\n\r\n  const [moveFrom, setMoveFrom] = useState('');\r\n\r\n  const [rightClickedSquares, setRightClickedSquares] = useState({});\r\n  const [moveSquares, setMoveSquares] = useState({});\r\n  const [optionSquares, setOptionSquares] = useState({});\r\n\r\n  function safeGameMutate(modify) {\r\n    setGame((g) => {\r\n      const update = { ...g };\r\n      modify(update);\r\n      return update;\r\n    });\r\n  }\r\n\r\n  function getMoveOptions(square) {\r\n    const moves = game.moves({\r\n      square,\r\n      verbose: true\r\n    });\r\n    if (moves.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const newSquares = {};\r\n    moves.map((move) => {\r\n      newSquares[move.to] = {\r\n        background:\r\n          game.get(move.to) && game.get(move.to).color !== game.get(square).color\r\n            ? 'radial-gradient(circle, rgba(0,0,0,.1) 85%, transparent 85%)'\r\n            : 'radial-gradient(circle, rgba(0,0,0,.1) 25%, transparent 25%)',\r\n        borderRadius: '50%'\r\n      };\r\n      return move;\r\n    });\r\n    newSquares[square] = {\r\n      background: 'rgba(255, 255, 0, 0.4)'\r\n    };\r\n    setOptionSquares(newSquares);\r\n  }\r\n\r\n  function onSquareClick(square) {\r\n    setRightClickedSquares({});\r\n\r\n    function resetFirstMove(square) {\r\n      setMoveFrom(square);\r\n      getMoveOptions(square);\r\n    }\r\n\r\n    // from square\r\n    if (!moveFrom) {\r\n      resetFirstMove(square);\r\n      return;\r\n    }\r\n\r\n    // attempt to make move\r\n    let move;\r\n    safeGameMutate((game) => {\r\n      move = game.move({\r\n        from: moveFrom,\r\n        to: square,\r\n        promotion: 'q' // always promote to a queen for example simplicity\r\n      });\r\n    });\r\n\r\n    // if invalid, setMoveFrom and getMoveOptions\r\n    if (move === null) {\r\n      resetFirstMove(square);\r\n      return;\r\n    }\r\n\r\n    // if valid, check if allowed in opening and make it or clear options\r\n    setMoveFrom('');\r\n    setOptionSquares({});\r\n  }\r\n\r\n  function onSquareRightClick(square) {\r\n    const colour = 'rgba(0, 0, 255, 0.4)';\r\n    setRightClickedSquares({\r\n      ...rightClickedSquares,\r\n      [square]:\r\n        rightClickedSquares[square] && rightClickedSquares[square].backgroundColor === colour\r\n          ? undefined\r\n          : { backgroundColor: colour }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Chessboard\r\n        id=\"ClickToMove\"\r\n        animationDuration={200}\r\n        arePiecesDraggable={false}\r\n        boardWidth={boardWidth}\r\n        position={game.fen()}\r\n        onSquareClick={onSquareClick}\r\n        onSquareRightClick={onSquareRightClick}\r\n        customBoardStyle={{\r\n          borderRadius: '4px',\r\n          boxShadow: '0 5px 15px rgba(0, 0, 0, 0.5)'\r\n        }}\r\n        customSquareStyles={{\r\n          ...moveSquares,\r\n          ...optionSquares,\r\n          ...rightClickedSquares\r\n        }}\r\n      />\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          safeGameMutate((game) => {\r\n            game.reset();\r\n          });\r\n          setMoveSquares({});\r\n          setRightClickedSquares({});\r\n        }}\r\n      >\r\n        reset\r\n      </button>\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          safeGameMutate((game) => {\r\n            game.undo();\r\n          });\r\n          setMoveSquares({});\r\n        }}\r\n      >\r\n        undo\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport Chess from 'chess.js';\r\n\r\nimport { Chessboard } from 'react-chessboard';\r\n\r\nexport default function PlayVsPlay({ boardWidth }) {\r\n  const [game, setGame] = useState(new Chess());\r\n\r\n  function safeGameMutate(modify) {\r\n    setGame((g) => {\r\n      const update = { ...g };\r\n      modify(update);\r\n      return update;\r\n    });\r\n  }\r\n\r\n  function onDrop(sourceSquare, targetSquare) {\r\n    safeGameMutate((game) => {\r\n      game.move({\r\n        from: sourceSquare,\r\n        to: targetSquare,\r\n        promotion: 'q' // always promote to a queen for example simplicity\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Chessboard\r\n        id=\"PlayVsPlay\"\r\n        animationDuration={200}\r\n        boardWidth={boardWidth}\r\n        position={game.fen()}\r\n        onPieceDrop={onDrop}\r\n        customBoardStyle={{\r\n          borderRadius: '4px',\r\n          boxShadow: '0 5px 15px rgba(0, 0, 0, 0.5)'\r\n        }}\r\n      />\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          safeGameMutate((game) => {\r\n            game.reset();\r\n          });\r\n        }}\r\n      >\r\n        reset\r\n      </button>\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          safeGameMutate((game) => {\r\n            game.undo();\r\n          });\r\n        }}\r\n      >\r\n        undo\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport Chess from 'chess.js';\r\n\r\nimport { Chessboard } from 'react-chessboard';\r\n\r\nexport default function PlayVsRandom({ boardWidth }) {\r\n  const [game, setGame] = useState(new Chess());\r\n\r\n  function safeGameMutate(modify) {\r\n    setGame((g) => {\r\n      const update = { ...g };\r\n      modify(update);\r\n      return update;\r\n    });\r\n  }\r\n\r\n  function makeRandomMove() {\r\n    const possibleMoves = game.moves();\r\n\r\n    // exit if the game is over\r\n    if (game.game_over() || game.in_draw() || possibleMoves.length === 0) return;\r\n\r\n    const randomIndex = Math.floor(Math.random() * possibleMoves.length);\r\n    safeGameMutate((game) => {\r\n      game.move(possibleMoves[randomIndex]);\r\n    });\r\n  }\r\n\r\n  function onDrop(sourceSquare, targetSquare) {\r\n    let move = null;\r\n    safeGameMutate((game) => {\r\n      move = game.move({\r\n        from: sourceSquare,\r\n        to: targetSquare,\r\n        promotion: 'q' // always promote to a queen for example simplicity\r\n      });\r\n    });\r\n\r\n    // illegal move\r\n    if (move === null) return;\r\n\r\n    setTimeout(makeRandomMove, 200);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Chessboard\r\n        id=\"PlayVsRandom\"\r\n        animationDuration={200}\r\n        boardWidth={boardWidth}\r\n        position={game.fen()}\r\n        onPieceDrop={onDrop}\r\n        customBoardStyle={{\r\n          borderRadius: '4px',\r\n          boxShadow: '0 5px 15px rgba(0, 0, 0, 0.5)'\r\n        }}\r\n      />\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          safeGameMutate((game) => {\r\n            game.reset();\r\n          });\r\n        }}\r\n      >\r\n        reset\r\n      </button>\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          safeGameMutate((game) => {\r\n            game.undo();\r\n          });\r\n        }}\r\n      >\r\n        undo\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useRef, useState } from 'react';\r\nimport Chess from 'chess.js';\r\n\r\nimport { Chessboard } from 'react-chessboard';\r\n\r\nexport default function PremoveVsRandom({ boardWidth }) {\r\n  const [game, setGame] = useState(new Chess());\r\n  const [currentTimeout, setCurrentTimeout] = useState(undefined);\r\n  const chessboardRef = useRef();\r\n\r\n  function safeGameMutate(modify) {\r\n    setGame((g) => {\r\n      const update = { ...g };\r\n      modify(update);\r\n      return update;\r\n    });\r\n  }\r\n\r\n  function makeRandomMove() {\r\n    const possibleMoves = game.moves();\r\n\r\n    // exit if the game is over\r\n    if (game.game_over() || game.in_draw() || possibleMoves.length === 0) return;\r\n\r\n    const randomIndex = Math.floor(Math.random() * possibleMoves.length);\r\n    safeGameMutate((game) => {\r\n      game.move(possibleMoves[randomIndex]);\r\n    });\r\n  }\r\n\r\n  function onDrop(sourceSquare, targetSquare) {\r\n    let move = null;\r\n    safeGameMutate((game) => {\r\n      move = game.move({\r\n        from: sourceSquare,\r\n        to: targetSquare,\r\n        promotion: 'q' // always promote to a queen for example simplicity\r\n      });\r\n    });\r\n\r\n    // illegal move\r\n    if (move === null) return false;\r\n\r\n    // store timeout so it can be cleared on undo/reset so computer doesn't execute move\r\n    const newTimeout = setTimeout(makeRandomMove, 2000);\r\n    setCurrentTimeout(newTimeout);\r\n    return true;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Chessboard\r\n        id=\"PlayVsRandom\"\r\n        animationDuration={200}\r\n        arePremovesAllowed={true}\r\n        boardWidth={boardWidth}\r\n        position={game.fen()}\r\n        isDraggablePiece={({ piece }) => piece[0] === 'w'}\r\n        onPieceDrop={onDrop}\r\n        customBoardStyle={{\r\n          borderRadius: '4px',\r\n          boxShadow: '0 5px 15px rgba(0, 0, 0, 0.5)'\r\n        }}\r\n        ref={chessboardRef}\r\n      />\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          safeGameMutate((game) => {\r\n            game.reset();\r\n          });\r\n          // clear premove queue\r\n          chessboardRef.current.clearPremoves();\r\n          // stop any current timeouts\r\n          clearTimeout(currentTimeout);\r\n        }}\r\n      >\r\n        reset\r\n      </button>\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          // undo twice to undo computer move too\r\n          safeGameMutate((game) => {\r\n            game.undo();\r\n            game.undo();\r\n          });\r\n          // clear premove queue\r\n          chessboardRef.current.clearPremoves();\r\n          // stop any current timeouts\r\n          clearTimeout(currentTimeout);\r\n        }}\r\n      >\r\n        undo\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport Chess from 'chess.js';\r\n\r\nimport { Chessboard } from 'react-chessboard';\r\n\r\nexport default function RandomVsRandom({ boardWidth }) {\r\n  const [game, setGame] = useState(new Chess());\r\n  const [latestTimeout, setLatestTimeout] = useState();\r\n\r\n  function safeGameMutate(modify) {\r\n    setGame((g) => {\r\n      const update = { ...g };\r\n      modify(update);\r\n      return update;\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setTimeout(makeRandomMove, 1000);\r\n    return () => {\r\n      clearTimeout(latestTimeout);\r\n    };\r\n  }, []);\r\n\r\n  function makeRandomMove() {\r\n    const possibleMoves = game.moves();\r\n\r\n    // exit if the game is over\r\n    if (game.game_over() === true || game.in_draw() === true || possibleMoves.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const randomIndex = Math.floor(Math.random() * possibleMoves.length);\r\n    safeGameMutate((game) => {\r\n      game.move(possibleMoves[randomIndex]);\r\n    });\r\n\r\n    const timeout = setTimeout(makeRandomMove, 300);\r\n    setLatestTimeout(timeout);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Chessboard\r\n        id=\"RandomVsRandom\"\r\n        arePiecesDraggable={false}\r\n        boardWidth={boardWidth}\r\n        position={game.fen()}\r\n        animationDuration={200}\r\n        customBoardStyle={{\r\n          borderRadius: '4px',\r\n          boxShadow: '0 5px 15px rgba(0, 0, 0, 0.5)'\r\n        }}\r\n      />\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          clearTimeout(latestTimeout);\r\n          safeGameMutate((game) => {\r\n            game.reset();\r\n          });\r\n          const timeout = setTimeout(makeRandomMove, 1000);\r\n          setLatestTimeout(timeout);\r\n        }}\r\n      >\r\n        reset\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport Chess from 'chess.js';\r\n\r\nimport { Chessboard } from 'react-chessboard';\r\n\r\nexport default function SquareStyles({ boardWidth }) {\r\n  const [game, setGame] = useState(new Chess());\r\n\r\n  const [rightClickedSquares, setRightClickedSquares] = useState({});\r\n  const [moveSquares, setMoveSquares] = useState({});\r\n  const [optionSquares, setOptionSquares] = useState({});\r\n\r\n  function safeGameMutate(modify) {\r\n    setGame((g) => {\r\n      const update = { ...g };\r\n      modify(update);\r\n      return update;\r\n    });\r\n  }\r\n\r\n  function onDrop(sourceSquare, targetSquare) {\r\n    let move = null;\r\n    safeGameMutate((game) => {\r\n      move = game.move({\r\n        from: sourceSquare,\r\n        to: targetSquare,\r\n        promotion: 'q' // always promote to a queen for example simplicity\r\n      });\r\n    });\r\n    // illegal move\r\n    if (move === null) return;\r\n    setMoveSquares({\r\n      [sourceSquare]: { backgroundColor: 'rgba(255, 255, 0, 0.4)' },\r\n      [targetSquare]: { backgroundColor: 'rgba(255, 255, 0, 0.4)' }\r\n    });\r\n  }\r\n\r\n  function onMouseOverSquare(square) {\r\n    getMoveOptions(square);\r\n  }\r\n\r\n  // Only set squares to {} if not already set to {}\r\n  function onMouseOutSquare() {\r\n    if (Object.keys(optionSquares).length !== 0) setOptionSquares({});\r\n  }\r\n\r\n  function getMoveOptions(square) {\r\n    const moves = game.moves({\r\n      square,\r\n      verbose: true\r\n    });\r\n    if (moves.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const newSquares = {};\r\n    moves.map((move) => {\r\n      newSquares[move.to] = {\r\n        background:\r\n          game.get(move.to) && game.get(move.to).color !== game.get(square).color\r\n            ? 'radial-gradient(circle, rgba(0,0,0,.1) 85%, transparent 85%)'\r\n            : 'radial-gradient(circle, rgba(0,0,0,.1) 25%, transparent 25%)',\r\n        borderRadius: '50%'\r\n      };\r\n      return move;\r\n    });\r\n    newSquares[square] = {\r\n      background: 'rgba(255, 255, 0, 0.4)'\r\n    };\r\n    setOptionSquares(newSquares);\r\n  }\r\n\r\n  function onSquareClick() {\r\n    setRightClickedSquares({});\r\n  }\r\n\r\n  function onSquareRightClick(square) {\r\n    const colour = 'rgba(0, 0, 255, 0.4)';\r\n    setRightClickedSquares({\r\n      ...rightClickedSquares,\r\n      [square]:\r\n        rightClickedSquares[square] && rightClickedSquares[square].backgroundColor === colour\r\n          ? undefined\r\n          : { backgroundColor: colour }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Chessboard\r\n        id=\"SquareStyles\"\r\n        animationDuration={200}\r\n        boardWidth={boardWidth}\r\n        position={game.fen()}\r\n        onMouseOverSquare={onMouseOverSquare}\r\n        onMouseOutSquare={onMouseOutSquare}\r\n        onSquareClick={onSquareClick}\r\n        onSquareRightClick={onSquareRightClick}\r\n        onPieceDrop={onDrop}\r\n        customBoardStyle={{\r\n          borderRadius: '4px',\r\n          boxShadow: '0 5px 15px rgba(0, 0, 0, 0.5)'\r\n        }}\r\n        customSquareStyles={{\r\n          ...moveSquares,\r\n          ...optionSquares,\r\n          ...rightClickedSquares\r\n        }}\r\n      />\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          safeGameMutate((game) => {\r\n            game.reset();\r\n          });\r\n          setMoveSquares({});\r\n          setRightClickedSquares({});\r\n        }}\r\n      >\r\n        reset\r\n      </button>\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          safeGameMutate((game) => {\r\n            game.undo();\r\n          });\r\n          setMoveSquares({});\r\n        }}\r\n      >\r\n        undo\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport Chess from 'chess.js';\r\n\r\nimport { Chessboard } from 'react-chessboard';\r\n\r\nexport default function StyledBoard({ boardWidth }) {\r\n  const [game, setGame] = useState(new Chess());\r\n\r\n  function safeGameMutate(modify) {\r\n    setGame((g) => {\r\n      const update = { ...g };\r\n      modify(update);\r\n      return update;\r\n    });\r\n  }\r\n\r\n  function onDrop(sourceSquare, targetSquare) {\r\n    safeGameMutate((game) => {\r\n      game.move({\r\n        from: sourceSquare,\r\n        to: targetSquare,\r\n        promotion: 'q' // always promote to a queen for example simplicity\r\n      });\r\n    });\r\n  }\r\n\r\n  const pieces = ['wP', 'wN', 'wB', 'wR', 'wQ', 'wK', 'bP', 'bN', 'bB', 'bR', 'bQ', 'bK'];\r\n  const customPieces = () => {\r\n    const returnPieces = {};\r\n    pieces.map((p) => {\r\n      returnPieces[p] = ({ squareWidth }) => (\r\n        <img style={{ width: squareWidth, height: squareWidth }} src={`/media/${p}.png`} alt={p} />\r\n      );\r\n      return null;\r\n    });\r\n    return returnPieces;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Chessboard\r\n        id=\"StyledBoard\"\r\n        animationDuration={200}\r\n        boardOrientation=\"black\"\r\n        boardWidth={boardWidth}\r\n        position={game.fen()}\r\n        onPieceDrop={onDrop}\r\n        customBoardStyle={{\r\n          borderRadius: '4px',\r\n          boxShadow: '0 5px 15px rgba(0, 0, 0, 0.5)'\r\n        }}\r\n        customDarkSquareStyle={{ backgroundColor: '#779952' }}\r\n        customLightSquareStyle={{ backgroundColor: '#edeed1' }}\r\n        customPieces={customPieces()}\r\n      />\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          safeGameMutate((game) => {\r\n            game.reset();\r\n          });\r\n        }}\r\n      >\r\n        reset\r\n      </button>\r\n      <button\r\n        className=\"rc-button\"\r\n        onClick={() => {\r\n          safeGameMutate((game) => {\r\n            game.undo();\r\n          });\r\n        }}\r\n      >\r\n        undo\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport BasicBoard from './boards/BasicBoard';\r\nimport ClickToMove from './boards/ClickToMove';\r\nimport PlayVsPlay from './boards/PlayVsPlay';\r\nimport PlayVsRandom from './boards/PlayVsRandom';\r\nimport PremoveVsRandom from './boards/PremoveVsRandom';\r\nimport RandomVsRandom from './boards/RandomVsRandom';\r\nimport SquareStyles from './boards/SquareStyles';\r\nimport StyledBoard from './boards/StyledBoard';\r\n\r\nimport './index.css';\r\n\r\nfunction App() {\r\n  const [chessboardSize, setChessboardSize] = useState(undefined);\r\n  const [selectedBoard, setSelectedBoard] = useState('PlayVsRandom');\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      const display = document.getElementsByClassName('container')[0];\r\n      setChessboardSize(display.offsetWidth - 20);\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  function getSelectedBoard() {\r\n    switch (selectedBoard) {\r\n      case 'BasicBoard':\r\n        return (\r\n          <>\r\n            <h2>Basic Board</h2>\r\n            <BasicBoard boardWidth={chessboardSize} />\r\n            <br />\r\n          </>\r\n        );\r\n      case 'PlayVsRandom':\r\n        return (\r\n          <>\r\n            <h2>Play vs Random Moves</h2>\r\n            <PlayVsRandom boardWidth={chessboardSize} />\r\n            <br />\r\n          </>\r\n        );\r\n      case 'ClickToMove':\r\n        return (\r\n          <>\r\n            <h2>Click to Move</h2>\r\n            <ClickToMove boardWidth={chessboardSize} />\r\n            <br />\r\n          </>\r\n        );\r\n      case 'RandomVsRandom':\r\n        return (\r\n          <>\r\n            <h2>Random vs Random</h2>\r\n            <RandomVsRandom boardWidth={chessboardSize} />\r\n            <br />\r\n          </>\r\n        );\r\n      case 'PlayVsPlay':\r\n        return (\r\n          <>\r\n            <h2>Play vs Play</h2>\r\n            <PlayVsPlay boardWidth={chessboardSize} />\r\n            <br />\r\n          </>\r\n        );\r\n      case 'PremoveVsRandom':\r\n        return (\r\n          <>\r\n            <h2>Premove vs Random</h2>\r\n            <PremoveVsRandom boardWidth={chessboardSize} />\r\n            <br />\r\n          </>\r\n        );\r\n      case 'SquareStyles':\r\n        return (\r\n          <>\r\n            <h2>Move Options, Highlight Moves, and Right Click</h2>\r\n            <SquareStyles boardWidth={chessboardSize} />\r\n            <br />\r\n          </>\r\n        );\r\n      case 'StyledBoard':\r\n        return (\r\n          <>\r\n            <h2>Styled Board</h2>\r\n            <StyledBoard boardWidth={chessboardSize} />\r\n            <br />\r\n          </>\r\n        );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>react-chessboard examples</h1>\r\n      <div className=\"button-container\">\r\n        <button\r\n          className={`rc-button ${selectedBoard === 'BasicBoard' ? 'selected' : ''}`}\r\n          onClick={() => {\r\n            setSelectedBoard(null);\r\n            setTimeout(() => setSelectedBoard('BasicBoard'), 10);\r\n          }}\r\n        >\r\n          Basic Board\r\n        </button>\r\n        <button\r\n          className={`rc-button ${selectedBoard === 'PlayVsRandom' ? 'selected' : ''}`}\r\n          onClick={() => {\r\n            setSelectedBoard(null);\r\n            setTimeout(() => setSelectedBoard('PlayVsRandom'), 10);\r\n          }}\r\n        >\r\n          Play Vs Random\r\n        </button>\r\n        <button\r\n          className={`rc-button ${selectedBoard === 'ClickToMove' ? 'selected' : ''}`}\r\n          onClick={() => {\r\n            setSelectedBoard(null);\r\n            setTimeout(() => setSelectedBoard('ClickToMove'), 10);\r\n          }}\r\n        >\r\n          Click to Move\r\n        </button>\r\n        <button\r\n          className={`rc-button ${selectedBoard === 'RandomVsRandom' ? 'selected' : ''}`}\r\n          onClick={() => {\r\n            setSelectedBoard(null);\r\n            setTimeout(() => setSelectedBoard('RandomVsRandom'), 10);\r\n          }}\r\n        >\r\n          Random Vs Random\r\n        </button>\r\n        <button\r\n          className={`rc-button ${selectedBoard === 'PlayVsPlay' ? 'selected' : ''}`}\r\n          onClick={() => {\r\n            setSelectedBoard(null);\r\n            setTimeout(() => setSelectedBoard('PlayVsPlay'), 10);\r\n          }}\r\n        >\r\n          Play Vs Play\r\n        </button>\r\n        <button\r\n          className={`rc-button ${selectedBoard === 'PremoveVsRandom' ? 'selected' : ''}`}\r\n          onClick={() => {\r\n            setSelectedBoard(null);\r\n            setTimeout(() => setSelectedBoard('PremoveVsRandom'), 10);\r\n          }}\r\n        >\r\n          Premove Vs Random\r\n        </button>\r\n        <button\r\n          className={`rc-button ${selectedBoard === 'SquareStyles' ? 'selected' : ''}`}\r\n          onClick={() => {\r\n            setSelectedBoard(null);\r\n            setTimeout(() => setSelectedBoard('SquareStyles'), 10);\r\n          }}\r\n        >\r\n          Styled Squares\r\n        </button>\r\n        <button\r\n          className={`rc-button ${selectedBoard === 'StyledBoard' ? 'selected' : ''}`}\r\n          onClick={() => {\r\n            setSelectedBoard(null);\r\n            setTimeout(() => setSelectedBoard('StyledBoard'), 10);\r\n          }}\r\n        >\r\n          Styled Board\r\n        </button>\r\n      </div>\r\n      {getSelectedBoard()}\r\n    </div>\r\n  );\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","import React, { createContext, memo, useEffect, isValidElement, cloneElement, createRef, Component, useLayoutEffect, useMemo, useContext, useState, useCallback, useRef, forwardRef, useImperativeHandle } from 'react';\nimport { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport 'react-dom';\n\nvar createTransition = (function (event, check) {\n  return {\n    _isMBTransition: true,\n    event: event,\n    check: check\n  };\n});\n\nvar TouchTransition = createTransition('touchstart', function (event) {\n  return event.touches != null; // eslint-disable-line no-eq-null, eqeqeq\n});\nvar MouseTransition = createTransition('mousedown', function (event) {\n  if (event.type) {\n    return event.type.indexOf('touch') === -1 && event.type.indexOf('mouse') !== -1;\n  }\n\n  return false;\n});\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray$8(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray$8(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$8(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$8(o, minLen);\n}\n\nfunction _arrayLikeToArray$8(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck$i(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar PreviewList = function PreviewList() {\n  var _this = this;\n\n  _classCallCheck$i(this, PreviewList);\n\n  this.register = function (preview) {\n    _this.previews.push(preview);\n  };\n\n  this.unregister = function (preview) {\n    var index;\n\n    while ((index = _this.previews.indexOf(preview)) !== -1) {\n      _this.previews.splice(index, 1);\n    }\n  };\n\n  this.backendChanged = function (backend) {\n    var _iterator = _createForOfIteratorHelper(_this.previews),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var preview = _step.value;\n        preview.backendChanged(backend);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  this.previews = [];\n};\n\nfunction _toConsumableArray$1(arr) {\n  return _arrayWithoutHoles$1(arr) || _iterableToArray$1(arr) || _unsupportedIterableToArray$7(arr) || _nonIterableSpread$1();\n}\n\nfunction _nonIterableSpread$1() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$7(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$7(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$7(o, minLen);\n}\n\nfunction _iterableToArray$1(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles$1(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$7(arr);\n}\n\nfunction _arrayLikeToArray$7(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck$h(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar _default = function _default(manager, context, sourceOptions) {\n  var _this = this;\n\n  _classCallCheck$h(this, _default);\n\n  this.setup = function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    if (_this.constructor.isSetUp) {\n      throw new Error('Cannot have two MultiBackends at the same time.');\n    }\n\n    _this.constructor.isSetUp = true;\n\n    _this.addEventListeners(window);\n\n    _this.backends[_this.current].instance.setup();\n  };\n\n  this.teardown = function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    _this.constructor.isSetUp = false;\n\n    _this.removeEventListeners(window);\n\n    _this.backends[_this.current].instance.teardown();\n  };\n\n  this.connectDragSource = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _this.connectBackend('connectDragSource', args);\n  };\n\n  this.connectDragPreview = function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _this.connectBackend('connectDragPreview', args);\n  };\n\n  this.connectDropTarget = function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _this.connectBackend('connectDropTarget', args);\n  };\n\n  this.previewEnabled = function () {\n    return _this.backends[_this.current].preview;\n  };\n\n  this.addEventListeners = function (target) {\n    _this.backends.forEach(function (backend) {\n      if (backend.transition) {\n        target.addEventListener(backend.transition.event, _this.backendSwitcher, true);\n      }\n    });\n  };\n\n  this.removeEventListeners = function (target) {\n    _this.backends.forEach(function (backend) {\n      if (backend.transition) {\n        target.removeEventListener(backend.transition.event, _this.backendSwitcher, true);\n      }\n    });\n  };\n\n  this.backendSwitcher = function (event) {\n    var oldBackend = _this.current;\n    var i = 0;\n\n    _this.backends.some(function (backend) {\n      if (i !== _this.current && backend.transition && backend.transition.check(event)) {\n        _this.current = i;\n        return true;\n      }\n\n      i += 1;\n      return false;\n    });\n\n    if (_this.current !== oldBackend) {\n      _this.backends[oldBackend].instance.teardown();\n\n      Object.keys(_this.nodes).forEach(function (id) {\n        var node = _this.nodes[id];\n        node.handler();\n        node.handler = _this.callBackend(node.func, node.args);\n      });\n\n      _this.previews.backendChanged(_this);\n\n      var newBackend = _this.backends[_this.current];\n      newBackend.instance.setup();\n\n      if (newBackend.skipDispatchOnTransition) {\n        return;\n      }\n\n      var newEvent = null;\n\n      try {\n        newEvent = new event.constructor(event.type, event);\n      } catch (_e) {\n        newEvent = document.createEvent('Event');\n        newEvent.initEvent(event.type, event.bubbles, event.cancelable);\n      }\n\n      event.target.dispatchEvent(newEvent);\n    }\n  };\n\n  this.callBackend = function (func, args) {\n    var _this$backends$_this$;\n\n    return (_this$backends$_this$ = _this.backends[_this.current].instance)[func].apply(_this$backends$_this$, _toConsumableArray$1(args));\n  };\n\n  this.connectBackend = function (func, args) {\n    var nodeId = \"\".concat(func, \"_\").concat(args[0]);\n\n    var handler = _this.callBackend(func, args);\n\n    _this.nodes[nodeId] = {\n      func: func,\n      args: args,\n      handler: handler\n    };\n    return function () {\n      var _this$nodes$nodeId;\n\n      var r = (_this$nodes$nodeId = _this.nodes[nodeId]).handler.apply(_this$nodes$nodeId, arguments);\n\n      delete _this.nodes[nodeId];\n      return r;\n    };\n  };\n\n  var options = Object.assign({\n    backends: []\n  }, sourceOptions || {});\n\n  if (options.backends.length < 1) {\n    throw new Error(\"You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx\");\n  }\n\n  this.current = 0;\n  this.previews = new PreviewList();\n  this.backends = [];\n  options.backends.forEach(function (backend) {\n    if (!backend.backend) {\n      throw new Error(\"You must specify a 'backend' property in your Backend entry: \".concat(backend));\n    }\n\n    var transition = backend.transition;\n\n    if (transition && !transition._isMBTransition) {\n      throw new Error(\"You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: \".concat(backend));\n    }\n\n    _this.backends.push({\n      instance: backend.backend(manager, context, backend.options),\n      preview: backend.preview || false,\n      transition: transition,\n      skipDispatchOnTransition: Boolean(backend.skipDispatchOnTransition)\n    });\n  });\n  this.nodes = {};\n} // DnD Backend API\n;\n\nvar MultiBackend = (function (manager, context, options) {\n  return new _default(manager, context, options);\n});\n\nvar propTypes = {exports: {}};\n\nvar reactIs$1 = {exports: {}};\n\nvar reactIs_production_min = {};\n\n/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar b = \"function\" === typeof Symbol && Symbol.for,\n    c = b ? Symbol.for(\"react.element\") : 60103,\n    d = b ? Symbol.for(\"react.portal\") : 60106,\n    e = b ? Symbol.for(\"react.fragment\") : 60107,\n    f = b ? Symbol.for(\"react.strict_mode\") : 60108,\n    g = b ? Symbol.for(\"react.profiler\") : 60114,\n    h = b ? Symbol.for(\"react.provider\") : 60109,\n    k = b ? Symbol.for(\"react.context\") : 60110,\n    l = b ? Symbol.for(\"react.async_mode\") : 60111,\n    m = b ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    n = b ? Symbol.for(\"react.forward_ref\") : 60112,\n    p = b ? Symbol.for(\"react.suspense\") : 60113,\n    q = b ? Symbol.for(\"react.suspense_list\") : 60120,\n    r = b ? Symbol.for(\"react.memo\") : 60115,\n    t = b ? Symbol.for(\"react.lazy\") : 60116,\n    v = b ? Symbol.for(\"react.block\") : 60121,\n    w = b ? Symbol.for(\"react.fundamental\") : 60117,\n    x = b ? Symbol.for(\"react.responder\") : 60118,\n    y = b ? Symbol.for(\"react.scope\") : 60119;\n\nfunction z(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var u = a.$$typeof;\n\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l:\n          case m:\n          case e:\n          case g:\n          case f:\n          case p:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k:\n              case n:\n              case t:\n              case r:\n              case h:\n                return a;\n\n              default:\n                return u;\n            }\n\n        }\n\n      case d:\n        return u;\n    }\n  }\n}\n\nfunction A(a) {\n  return z(a) === m;\n}\n\nreactIs_production_min.AsyncMode = l;\nreactIs_production_min.ConcurrentMode = m;\nreactIs_production_min.ContextConsumer = k;\nreactIs_production_min.ContextProvider = h;\nreactIs_production_min.Element = c;\nreactIs_production_min.ForwardRef = n;\nreactIs_production_min.Fragment = e;\nreactIs_production_min.Lazy = t;\nreactIs_production_min.Memo = r;\nreactIs_production_min.Portal = d;\nreactIs_production_min.Profiler = g;\nreactIs_production_min.StrictMode = f;\nreactIs_production_min.Suspense = p;\n\nreactIs_production_min.isAsyncMode = function (a) {\n  return A(a) || z(a) === l;\n};\n\nreactIs_production_min.isConcurrentMode = A;\n\nreactIs_production_min.isContextConsumer = function (a) {\n  return z(a) === k;\n};\n\nreactIs_production_min.isContextProvider = function (a) {\n  return z(a) === h;\n};\n\nreactIs_production_min.isElement = function (a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === c;\n};\n\nreactIs_production_min.isForwardRef = function (a) {\n  return z(a) === n;\n};\n\nreactIs_production_min.isFragment = function (a) {\n  return z(a) === e;\n};\n\nreactIs_production_min.isLazy = function (a) {\n  return z(a) === t;\n};\n\nreactIs_production_min.isMemo = function (a) {\n  return z(a) === r;\n};\n\nreactIs_production_min.isPortal = function (a) {\n  return z(a) === d;\n};\n\nreactIs_production_min.isProfiler = function (a) {\n  return z(a) === g;\n};\n\nreactIs_production_min.isStrictMode = function (a) {\n  return z(a) === f;\n};\n\nreactIs_production_min.isSuspense = function (a) {\n  return z(a) === p;\n};\n\nreactIs_production_min.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || \"object\" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);\n};\n\nreactIs_production_min.typeOf = z;\n\nvar reactIs_development = {};\n\n/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function () {\n    // nor polyfill, then a plain number is used for performance.\n\n    var hasSymbol = typeof Symbol === 'function' && Symbol.for;\n    var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\n    var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\n    var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\n    var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\n    var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\n    var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\n    var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n    // (unstable) APIs that have been removed. Can we remove the symbols?\n\n    var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\n    var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\n    var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\n    var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\n    var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\n    var REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\n    var REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n    var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\n    var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\n    var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\n    var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\n    function isValidElementType(type) {\n      return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n      type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n    }\n\n    function typeOf(object) {\n      if (typeof object === 'object' && object !== null) {\n        var $$typeof = object.$$typeof;\n\n        switch ($$typeof) {\n          case REACT_ELEMENT_TYPE:\n            var type = object.type;\n\n            switch (type) {\n              case REACT_ASYNC_MODE_TYPE:\n              case REACT_CONCURRENT_MODE_TYPE:\n              case REACT_FRAGMENT_TYPE:\n              case REACT_PROFILER_TYPE:\n              case REACT_STRICT_MODE_TYPE:\n              case REACT_SUSPENSE_TYPE:\n                return type;\n\n              default:\n                var $$typeofType = type && type.$$typeof;\n\n                switch ($$typeofType) {\n                  case REACT_CONTEXT_TYPE:\n                  case REACT_FORWARD_REF_TYPE:\n                  case REACT_LAZY_TYPE:\n                  case REACT_MEMO_TYPE:\n                  case REACT_PROVIDER_TYPE:\n                    return $$typeofType;\n\n                  default:\n                    return $$typeof;\n                }\n\n            }\n\n          case REACT_PORTAL_TYPE:\n            return $$typeof;\n        }\n      }\n\n      return undefined;\n    } // AsyncMode is deprecated along with isAsyncMode\n\n\n    var AsyncMode = REACT_ASYNC_MODE_TYPE;\n    var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\n    var ContextConsumer = REACT_CONTEXT_TYPE;\n    var ContextProvider = REACT_PROVIDER_TYPE;\n    var Element = REACT_ELEMENT_TYPE;\n    var ForwardRef = REACT_FORWARD_REF_TYPE;\n    var Fragment = REACT_FRAGMENT_TYPE;\n    var Lazy = REACT_LAZY_TYPE;\n    var Memo = REACT_MEMO_TYPE;\n    var Portal = REACT_PORTAL_TYPE;\n    var Profiler = REACT_PROFILER_TYPE;\n    var StrictMode = REACT_STRICT_MODE_TYPE;\n    var Suspense = REACT_SUSPENSE_TYPE;\n    var hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\n    function isAsyncMode(object) {\n      {\n        if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n          hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n          console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n        }\n      }\n      return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n    }\n\n    function isConcurrentMode(object) {\n      return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n    }\n\n    function isContextConsumer(object) {\n      return typeOf(object) === REACT_CONTEXT_TYPE;\n    }\n\n    function isContextProvider(object) {\n      return typeOf(object) === REACT_PROVIDER_TYPE;\n    }\n\n    function isElement(object) {\n      return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n    }\n\n    function isForwardRef(object) {\n      return typeOf(object) === REACT_FORWARD_REF_TYPE;\n    }\n\n    function isFragment(object) {\n      return typeOf(object) === REACT_FRAGMENT_TYPE;\n    }\n\n    function isLazy(object) {\n      return typeOf(object) === REACT_LAZY_TYPE;\n    }\n\n    function isMemo(object) {\n      return typeOf(object) === REACT_MEMO_TYPE;\n    }\n\n    function isPortal(object) {\n      return typeOf(object) === REACT_PORTAL_TYPE;\n    }\n\n    function isProfiler(object) {\n      return typeOf(object) === REACT_PROFILER_TYPE;\n    }\n\n    function isStrictMode(object) {\n      return typeOf(object) === REACT_STRICT_MODE_TYPE;\n    }\n\n    function isSuspense(object) {\n      return typeOf(object) === REACT_SUSPENSE_TYPE;\n    }\n\n    reactIs_development.AsyncMode = AsyncMode;\n    reactIs_development.ConcurrentMode = ConcurrentMode;\n    reactIs_development.ContextConsumer = ContextConsumer;\n    reactIs_development.ContextProvider = ContextProvider;\n    reactIs_development.Element = Element;\n    reactIs_development.ForwardRef = ForwardRef;\n    reactIs_development.Fragment = Fragment;\n    reactIs_development.Lazy = Lazy;\n    reactIs_development.Memo = Memo;\n    reactIs_development.Portal = Portal;\n    reactIs_development.Profiler = Profiler;\n    reactIs_development.StrictMode = StrictMode;\n    reactIs_development.Suspense = Suspense;\n    reactIs_development.isAsyncMode = isAsyncMode;\n    reactIs_development.isConcurrentMode = isConcurrentMode;\n    reactIs_development.isContextConsumer = isContextConsumer;\n    reactIs_development.isContextProvider = isContextProvider;\n    reactIs_development.isElement = isElement;\n    reactIs_development.isForwardRef = isForwardRef;\n    reactIs_development.isFragment = isFragment;\n    reactIs_development.isLazy = isLazy;\n    reactIs_development.isMemo = isMemo;\n    reactIs_development.isPortal = isPortal;\n    reactIs_development.isProfiler = isProfiler;\n    reactIs_development.isStrictMode = isStrictMode;\n    reactIs_development.isSuspense = isSuspense;\n    reactIs_development.isValidElementType = isValidElementType;\n    reactIs_development.typeOf = typeOf;\n  })();\n}\n\nif (process.env.NODE_ENV === 'production') {\n  reactIs$1.exports = reactIs_production_min;\n} else {\n  reactIs$1.exports = reactIs_development;\n}\n\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n/* eslint-disable no-unused-vars */\n\nvar getOwnPropertySymbols$1 = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction shouldUseNative() {\n  try {\n    if (!Object.assign) {\n      return false;\n    } // Detect buggy property enumeration order in older V8 versions.\n    // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n    test1[5] = 'de';\n\n    if (Object.getOwnPropertyNames(test1)[0] === '5') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test2 = {};\n\n    for (var i = 0; i < 10; i++) {\n      test2['_' + String.fromCharCode(i)] = i;\n    }\n\n    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n      return test2[n];\n    });\n\n    if (order2.join('') !== '0123456789') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test3 = {};\n    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n      test3[letter] = letter;\n    });\n\n    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    // We don't expect any of the above to throw, but better to be safe.\n    return false;\n  }\n}\n\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (getOwnPropertySymbols$1) {\n      symbols = getOwnPropertySymbols$1(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n};\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactPropTypesSecret$3 = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nvar ReactPropTypesSecret_1 = ReactPropTypesSecret$3;\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar printWarning$1 = function () {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret$2 = ReactPropTypesSecret_1;\n\n  var loggedTypeFailures = {};\n  var has$1 = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning$1 = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\n\n\nfunction checkPropTypes$1(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has$1(typeSpecs, typeSpecName)) {\n        var error; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret$2);\n        } catch (ex) {\n          error = ex;\n        }\n\n        if (error && !(error instanceof Error)) {\n          printWarning$1((componentName || 'React class') + ': type specification of ' + location + ' `' + typeSpecName + '` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a ' + typeof error + '. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).');\n        }\n\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n          var stack = getStack ? getStack() : '';\n          printWarning$1('Failed ' + location + ' type: ' + error.message + (stack != null ? stack : ''));\n        }\n      }\n    }\n  }\n}\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\n\n\ncheckPropTypes$1.resetWarningCache = function () {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n};\n\nvar checkPropTypes_1 = checkPropTypes$1;\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactIs$1 = reactIs$1.exports;\n\nvar assign = objectAssign;\n\nvar ReactPropTypesSecret$1 = ReactPropTypesSecret_1;\n\nvar checkPropTypes = checkPropTypes_1;\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\n\nvar printWarning = function () {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nvar factoryWithTypeCheckers = function (isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n\n  var ANONYMOUS = '<<anonymous>>'; // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker\n  };\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n\n  /*eslint-disable no-self-compare*/\n\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n\n\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  } // Make `instanceof Error` still work for returned errors.\n\n\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret$1) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use `PropTypes.checkPropTypes()` to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n\n          if (!manualPropTypeCallCache[cacheKey] && // Avoid spamming the console because they are often not actionable except for lib authors\n          manualPropTypeWarningCount < 3) {\n            printWarning('You are manually calling a React.PropTypes validation ' + 'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' + 'and will throw in the standalone `prop-types` package. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.');\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n\n      var propValue = props[propName];\n\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret$1);\n\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!ReactIs$1.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning('Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' + 'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).');\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n\n        if (type === 'symbol') {\n          return String(value);\n        }\n\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret$1);\n\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n\n      if (typeof checker !== 'function') {\n        printWarning('Invalid argument supplied to oneOfType. Expected an array of check functions, but ' + 'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.');\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret$1) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          continue;\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret$1);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      } // We need to check all keys in case some are required but missing from\n      // props.\n\n\n      var allKeys = assign({}, props[propName], shapeTypes);\n\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' + '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') + '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  '));\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret$1);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n\n      case 'boolean':\n        return !propValue;\n\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    } // falsy value can't be a Symbol\n\n\n    if (!propValue) {\n      return false;\n    } // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\n\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    } // Fallback for non-spec compliant Symbols which are polyfilled.\n\n\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  } // Equivalent of `typeof` but with special handling for array and regexp.\n\n\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n\n    return propType;\n  } // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n\n\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n\n    var propType = getPropType(propValue);\n\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n\n    return propType;\n  } // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n\n\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n\n      default:\n        return type;\n    }\n  } // Returns class name of the object, if any.\n\n\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactPropTypesSecret = ReactPropTypesSecret_1;\n\nfunction emptyFunction() {}\n\nfunction emptyFunctionWithReset() {}\n\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nvar factoryWithThrowingShims = function () {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n\n    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n    err.name = 'Invariant Violation';\n    throw err;\n  }\n  shim.isRequired = shim;\n\n  function getShim() {\n    return shim;\n  }\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = reactIs$1.exports; // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n\n\n  var throwOnDirectAccess = true;\n  propTypes.exports = factoryWithTypeCheckers(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  propTypes.exports = factoryWithThrowingShims();\n}\n\nvar PropTypes = propTypes.exports;\n\n/**\n * Create the React Context\n */\n\nvar DndContext = /*#__PURE__*/createContext({\n  dragDropManager: undefined\n});\n\nvar HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));\n\n/**\r\n * Use invariant() to assert state which your program assumes to be true.\r\n *\r\n * Provide sprintf-style format (only %s is supported) and arguments\r\n * to provide information about what broke and what you were\r\n * expecting.\r\n *\r\n * The invariant message will be stripped in production, but the invariant\r\n * will remain to ensure logic does not differ in production.\r\n */\nfunction invariant(condition, format) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n\n    throw error;\n  }\n}\n\nvar INIT_COORDS = 'dnd-core/INIT_COORDS';\nvar BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nvar PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nvar HOVER = 'dnd-core/HOVER';\nvar DROP = 'dnd-core/DROP';\nvar END_DRAG = 'dnd-core/END_DRAG';\n\nfunction setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}\n\nfunction _typeof$5(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$5 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$5 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$5(obj);\n} // cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\n\n\nfunction get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nfunction without$1(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nfunction isObject(input) {\n  return _typeof$5(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nfunction xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nfunction intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}\n\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nfunction createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants$1(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants$1(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}\n\nfunction createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}\n\nfunction matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}\n\nfunction createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}\n\nfunction ownKeys$4(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$4(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$4(Object(source), true).forEach(function (key) {\n        _defineProperty$i(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$4(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$i(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nfunction createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread$4(_objectSpread$4({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}\n\nfunction createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}\n\nfunction createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}\n\nfunction _classCallCheck$g(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$g(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$g(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$g(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$g(Constructor, staticProps);\n  return Constructor;\n}\nvar DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck$g(this, DragDropManagerImpl);\n\n    this.isSetUp = false;\n\n    this.handleRefCountChange = function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    };\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass$g(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\n\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n} // Inlined version of the `symbol-observable` polyfill\n\n\nvar $$observable = function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\n\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\n\nfunction isPlainObject$1(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n} // Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\n\n\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject$1(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\n\n\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nvar strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nfunction areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nfunction areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction ownKeys$3(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$3(Object(source), true).forEach(function (key) {\n        _defineProperty$h(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$3(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$h(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar initialState$1 = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nfunction reduce$5() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState$1;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread$3(_objectSpread$3({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState$1;\n\n    default:\n      return state;\n  }\n}\n\nvar ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nvar ADD_TARGET = 'dnd-core/ADD_TARGET';\nvar REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nvar REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nfunction addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nfunction addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nfunction removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nfunction removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\n\nfunction ownKeys$2(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$2(Object(source), true).forEach(function (key) {\n        _defineProperty$g(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$2(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$g(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nfunction reduce$4() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        targetIds: without$1(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction reduce$3() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}\n\nvar NONE = [];\nvar ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nfunction areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}\n\nfunction reduce$2() {\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}\n\nfunction reduce$1() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$1(Object(source), true).forEach(function (key) {\n        _defineProperty$f(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$1(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$f(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nfunction reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: reduce$2(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread$1(_objectSpread$1({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: reduce$5(state.dragOffset, action),\n    refCount: reduce$3(state.refCount, action),\n    dragOperation: reduce$4(state.dragOperation, action),\n    stateId: reduce$1(state.stateId)\n  };\n}\n\n/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nfunction add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nfunction subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nfunction getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nfunction getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}\n\nfunction _classCallCheck$f(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$f(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$f(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$f(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$f(Constructor, staticProps);\n  return Constructor;\n}\nvar DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck$f(this, DragDropMonitorImpl);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass$f(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      }; // undefined on initial render\n\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset$1() {\n      return getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset$1() {\n      return getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();\n\nvar nextUniqueId = 0;\nfunction getNextUniqueId() {\n  return nextUniqueId++;\n}\n\nfunction _typeof$4(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$4 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$4 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$4(obj);\n}\nfunction validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nfunction validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nfunction validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof$4(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nfunction rawAsap(task) {\n  if (!queue.length) {\n    requestFlush();\n  } // Equivalent to push, but avoids a function call.\n\n\n  queue[queue.length] = task;\n}\nvar queue = []; // Once a flush has been requested, no further calls to `requestFlush` are\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\n\nvar requestFlush; // The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\n\nvar index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\n\nvar capacity = 1024; // The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\n\nfunction flush() {\n  while (index < queue.length) {\n    var currentIndex = index; // Advance the index before calling the task. This ensures that we will\n    // begin flushing on the next task the task throws an error.\n\n    index = index + 1;\n    queue[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n    // If we call `asap` within tasks scheduled by `asap`, the queue will\n    // grow, but to avoid an O(n) walk for every task we execute, we don't\n    // shift tasks off the queue after they have been executed.\n    // Instead, we periodically shift 1024 tasks off the queue.\n\n    if (index > capacity) {\n      // Manually shift all values starting at the index back to the\n      // beginning of the queue.\n      for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n        queue[scan] = queue[scan + index];\n      }\n\n      queue.length -= index;\n      index = 0;\n    }\n  }\n\n  queue.length = 0;\n  index = 0;\n} // `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\n\n\nvar scope = typeof global !== 'undefined' ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver; // MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\n\nif (typeof BrowserMutationObserver === 'function') {\n  requestFlush = makeRequestCallFromMutationObserver(flush); // MessageChannels are desirable because they give direct access to the HTML\n  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n  // 11-12, and in web workers in many engines.\n  // Although message channels yield to any queued rendering and IO tasks, they\n  // would be better than imposing the 4ms delay of timers.\n  // However, they do not work reliably in Internet Explorer or Safari.\n  // Internet Explorer 10 is the only browser that has setImmediate but does\n  // not have MutationObservers.\n  // Although setImmediate yields to the browser's renderer, it would be\n  // preferrable to falling back to setTimeout since it does not have\n  // the minimum 4ms penalty.\n  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n  // Desktop to a lesser extent) that renders both setImmediate and\n  // MessageChannel useless for the purposes of ASAP.\n  // https://github.com/kriskowal/q/issues/396\n  // Timers are implemented universally.\n  // We fall back to timers in workers in most engines, and in foreground\n  // contexts in the following browsers.\n  // However, note that even this simple case requires nuances to operate in a\n  // broad spectrum of browsers.\n  //\n  // - Firefox 3-13\n  // - Internet Explorer 6-9\n  // - iPad Safari 4.3\n  // - Lynx 2.8.7\n} else {\n  requestFlush = makeRequestCallFromTimer(flush);\n} // `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\n\n\nrawAsap.requestFlush = requestFlush; // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  var toggle = 1;\n  var observer = new BrowserMutationObserver(callback);\n  var node = document.createTextNode('');\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    var timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    var intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\n\n\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer; // ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n// RawTasks are recycled to reduce GC churn.\n\nvar freeTasks = []; // We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n  if (pendingErrors.length) {\n    throw pendingErrors.shift();\n  }\n}\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\n\nfunction asap(task) {\n  var rawTask;\n\n  if (freeTasks.length) {\n    rawTask = freeTasks.pop();\n  } else {\n    rawTask = new RawTask();\n  }\n\n  rawTask.task = task;\n  rawAsap(rawTask);\n} // We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\n\nvar RawTask =\n/** @class */\nfunction () {\n  function RawTask() {}\n\n  RawTask.prototype.call = function () {\n    try {\n      this.task.call();\n    } catch (error) {\n      if (asap.onerror) {\n        // This hook exists purely for testing purposes.\n        // Its name will be periodically randomized to break any code that\n        // depends on its existence.\n        asap.onerror(error);\n      } else {\n        // In a web browser, exceptions are not fatal. However, to avoid\n        // slowing down the queue of pending tasks, we rethrow the error in a\n        // lower priority turn.\n        pendingErrors.push(error);\n        requestErrorThrow();\n      }\n    } finally {\n      this.task = null;\n      freeTasks[freeTasks.length] = this;\n    }\n  };\n\n  return RawTask;\n}();\n\nfunction _classCallCheck$e(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$e(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$e(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$e(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$e(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _slicedToArray$5(arr, i) {\n  return _arrayWithHoles$5(arr) || _iterableToArrayLimit$5(arr, i) || _unsupportedIterableToArray$6(arr, i) || _nonIterableRest$5();\n}\n\nfunction _nonIterableRest$5() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$6(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$6(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$6(o, minLen);\n}\n\nfunction _arrayLikeToArray$6(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$5(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$5(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray$5(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nvar HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck$e(this, HandlerRegistryImpl);\n\n    this.types = new Map();\n    this.dragSources = new Map();\n    this.dropTargets = new Map();\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n    this.store = store;\n  }\n\n  _createClass$e(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource$1(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget$1(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource$1(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget$1(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();\n\nfunction createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}\n\nvar _excluded = [\"children\"];\n\nfunction _slicedToArray$4(arr, i) {\n  return _arrayWithHoles$4(arr) || _iterableToArrayLimit$4(arr, i) || _unsupportedIterableToArray$5(arr, i) || _nonIterableRest$4();\n}\n\nfunction _nonIterableRest$4() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$5(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$5(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$5(o, minLen);\n}\n\nfunction _arrayLikeToArray$5(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$4(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$4(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nvar DndProvider$1 = /*#__PURE__*/memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray$4(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}\n\nfunction _classCallCheck$d(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$d(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$d(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$d(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$d(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$e(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nvar DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck$d(this, DragSourceMonitorImpl);\n\n    _defineProperty$e(this, \"internalMonitor\", void 0);\n\n    _defineProperty$e(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass$d(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();\n\nfunction _classCallCheck$c(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$c(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$c(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$c(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$c(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$d(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar isCallingCanDrop = false;\nvar DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck$c(this, DropTargetMonitorImpl);\n\n    _defineProperty$d(this, \"internalMonitor\", void 0);\n\n    _defineProperty$d(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass$c(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null; // When passed a node, call the hook straight away.\n\n    if (! /*#__PURE__*/isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nfunction wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return /*#__PURE__*/cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return /*#__PURE__*/cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}\n\nfunction _typeof$3(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$3 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$3 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$3(obj);\n}\n\nfunction isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof$3(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}\n\nfunction shallowEqual(objA, objB, compare, compareContext) {\n  var compareResult = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    compareResult = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (compareResult === false || compareResult === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction _classCallCheck$b(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$b(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$b(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$b(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$b(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$c(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck$b(this, SourceConnector);\n\n    _defineProperty$c(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty$c(this, \"handlerId\", null);\n\n    _defineProperty$c(this, \"dragSourceRef\", null);\n\n    _defineProperty$c(this, \"dragSourceNode\", void 0);\n\n    _defineProperty$c(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty$c(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty$c(this, \"dragPreviewRef\", null);\n\n    _defineProperty$c(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty$c(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty$c(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty$c(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty$c(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass$b(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();\n\nfunction _classCallCheck$a(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$a(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$a(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$a(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$a(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$b(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck$a(this, TargetConnector);\n\n    _defineProperty$b(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty$b(this, \"handlerId\", null);\n\n    _defineProperty$b(this, \"dropTargetRef\", null);\n\n    _defineProperty$b(this, \"dropTargetNode\", void 0);\n\n    _defineProperty$b(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty$b(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty$b(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty$b(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty$b(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty$b(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass$a(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();\n\nfunction registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nfunction registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}\n\nfunction _typeof$2(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$2 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$2 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$2(obj);\n}\nfunction isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nfunction isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nfunction isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nfunction checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}\n\nfunction isObjectLike(input) {\n  return _typeof$2(input) === 'object' && input !== null;\n}\n\nfunction isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}\n\nvar reactIs = reactIs$1.exports;\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nvar hoistNonReactStatics_cjs = hoistNonReactStatics;\n\nvar hoistStatics = hoistNonReactStatics_cjs;\n\nfunction _typeof$1(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$1 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$1 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$1(obj);\n}\n\nfunction _classCallCheck$9(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$9(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$9(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$9(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$9(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof$1(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty$a(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * @param collect The props collector function\n * @param options The DnD options\n */\n\nfunction DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer = /*#__PURE__*/function (_Component) {\n      _inherits(DragLayerContainer, _Component);\n\n      var _super = _createSuper(DragLayerContainer);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck$9(this, DragLayerContainer);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _super.call.apply(_super, [this].concat(args));\n\n        _defineProperty$a(_assertThisInitialized(_this), \"manager\", void 0);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"isCurrentlyMounted\", false);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"unsubscribeFromOffsetChange\", void 0);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"unsubscribeFromStateChange\", void 0);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"ref\", /*#__PURE__*/createRef());\n\n        _defineProperty$a(_assertThisInitialized(_this), \"handleChange\", function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        });\n\n        return _this;\n      }\n\n      _createClass$9(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return jsx(DndContext.Consumer, {\n            children: function children(_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return jsx(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }), void 0);\n            }\n          }, void 0);\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof$1(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(Component);\n\n    _defineProperty$a(DragLayerContainer, \"displayName\", \"DragLayer(\".concat(displayName, \")\"));\n\n    _defineProperty$a(DragLayerContainer, \"DecoratedComponent\", DecoratedComponent);\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck$8(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$8(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$8(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$8(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$8(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$9(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck$8(this, DragSourceImpl);\n\n    _defineProperty$9(this, \"spec\", void 0);\n\n    _defineProperty$9(this, \"monitor\", void 0);\n\n    _defineProperty$9(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass$8(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();\n\nfunction useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}\n\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nfunction useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}\n\nfunction useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}\n\nfunction _slicedToArray$3(arr, i) {\n  return _arrayWithHoles$3(arr) || _iterableToArrayLimit$3(arr, i) || _unsupportedIterableToArray$4(arr, i) || _nonIterableRest$3();\n}\n\nfunction _nonIterableRest$3() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$4(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$4(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$4(o, minLen);\n}\n\nfunction _arrayLikeToArray$4(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$3(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$3(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray$3(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$3(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$3(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$3(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$3(arr);\n}\n\nfunction _arrayLikeToArray$3(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\nfunction useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}\n\nfunction useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}\n\nfunction useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}\n\nvar fastDeepEqual = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) if (!equal(a[i], b[i])) return false;\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  } // true if both NaN, false otherwise\n\n\n  return a !== a && b !== b;\n};\n\nfunction _slicedToArray$2(arr, i) {\n  return _arrayWithHoles$2(arr) || _iterableToArrayLimit$2(arr, i) || _unsupportedIterableToArray$2(arr, i) || _nonIterableRest$2();\n}\n\nfunction _nonIterableRest$2() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$2(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen);\n}\n\nfunction _arrayLikeToArray$2(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$2(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$2(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nfunction useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray$2(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!fastDeepEqual(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}\n\nfunction _slicedToArray$1(arr, i) {\n  return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest$1();\n}\n\nfunction _nonIterableRest$1() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$1(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$1(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray$1(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}\n\nfunction useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}\n\nfunction useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nfunction useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}\n\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nfunction useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}\n\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nfunction useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}\n\nfunction _classCallCheck$7(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$7(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$7(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$7(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$7(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$8(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck$7(this, DropTargetImpl);\n\n    _defineProperty$8(this, \"spec\", void 0);\n\n    _defineProperty$8(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass$7(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();\n\nfunction useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}\n\nfunction useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}\n\nfunction useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}\n\nfunction useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}\n\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nfunction useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\nvar PreviewPortalContext = /*#__PURE__*/React.createContext(null);\nvar DndProvider = function DndProvider(props) {\n  var previewPortal = useRef();\n  return /*#__PURE__*/React.createElement(PreviewPortalContext.Provider, {\n    value: previewPortal.current\n  }, /*#__PURE__*/React.createElement(DndProvider$1, _extends({\n    backend: MultiBackend\n  }, props)), /*#__PURE__*/React.createElement(\"div\", {\n    ref: previewPortal\n  }));\n};\nDndProvider.propTypes = {\n  manager: PropTypes.any,\n  context: PropTypes.any,\n  options: PropTypes.any,\n  debugMode: PropTypes.bool\n};\n\n({\n  generator: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n});\n\n// cheap lodash replacements\nfunction memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nfunction without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nfunction union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}\n\nfunction _classCallCheck$6(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$6(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$6(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$6(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$6(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$7(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck$6(this, EnterLeaveCounter);\n\n    _defineProperty$7(this, \"entered\", []);\n\n    _defineProperty$7(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass$6(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();\n\nvar isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nvar isSafari = memoize(function () {\n  return Boolean(window.safari);\n});\n\nfunction _classCallCheck$5(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$5(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$5(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$5(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$5(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$6(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck$5(this, MonotonicInterpolant);\n\n    _defineProperty$6(this, \"xs\", void 0);\n\n    _defineProperty$6(this, \"ys\", void 0);\n\n    _defineProperty$6(this, \"c1s\", void 0);\n\n    _defineProperty$6(this, \"c2s\", void 0);\n\n    _defineProperty$6(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass$5(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();\n\nvar ELEMENT_NODE$1 = 1;\nfunction getNodeClientOffset$1(node) {\n  var el = node.nodeType === ELEMENT_NODE$1 ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nfunction getEventClientOffset$1(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nfunction getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset$1(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}\n\nvar FILE = '__NATIVE_FILE__';\nvar URL = '__NATIVE_URL__';\nvar TEXT = '__NATIVE_TEXT__';\nvar HTML = '__NATIVE_HTML__';\n\nvar NativeTypes = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  FILE: FILE,\n  URL: URL,\n  TEXT: TEXT,\n  HTML: HTML\n});\n\nfunction getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}\n\nvar _nativeTypesConfig;\n\nfunction _defineProperty$5(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty$5(_nativeTypesConfig, FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty$5(_nativeTypesConfig, HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty$5(_nativeTypesConfig, URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty$5(_nativeTypesConfig, TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);\n\nfunction _classCallCheck$4(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$4(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$4(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$4(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$4(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$4(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck$4(this, NativeDragSource);\n\n    _defineProperty$4(this, \"item\", void 0);\n\n    _defineProperty$4(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass$4(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();\n\nfunction createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nfunction matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}\n\nfunction _classCallCheck$3(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$3(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$3(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$3(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$3(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$3(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar OptionsReader$1 = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck$3(this, OptionsReader);\n\n    _defineProperty$3(this, \"ownerDocument\", null);\n\n    _defineProperty$3(this, \"globalContext\", void 0);\n\n    _defineProperty$3(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass$3(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty$2(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck$2(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$2(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$2(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$2(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$2(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck$2(this, HTML5BackendImpl);\n\n    _defineProperty$2(this, \"options\", void 0);\n\n    _defineProperty$2(this, \"actions\", void 0);\n\n    _defineProperty$2(this, \"monitor\", void 0);\n\n    _defineProperty$2(this, \"registry\", void 0);\n\n    _defineProperty$2(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty$2(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty$2(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty$2(this, \"sourceNodes\", new Map());\n\n    _defineProperty$2(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty$2(this, \"dragStartSourceIds\", null);\n\n    _defineProperty$2(this, \"dropTargetIds\", []);\n\n    _defineProperty$2(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty$2(this, \"currentNativeSource\", null);\n\n    _defineProperty$2(this, \"currentNativeHandle\", null);\n\n    _defineProperty$2(this, \"currentDragSourceNode\", null);\n\n    _defineProperty$2(this, \"altKeyPressed\", false);\n\n    _defineProperty$2(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty$2(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty$2(this, \"dragOverTargetIds\", null);\n\n    _defineProperty$2(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset$1(source) || null;\n    });\n\n    _defineProperty$2(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty$2(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty$2(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty$2(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset$1(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset$1(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty$2(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset$1(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty$2(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset$1(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty$2(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader$1(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass$2(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();\n\nvar emptyImage;\nfunction getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}\n\nvar HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};\n\nvar ListenerType;\n\n(function (ListenerType) {\n  ListenerType[\"mouse\"] = \"mouse\";\n  ListenerType[\"touch\"] = \"touch\";\n  ListenerType[\"keyboard\"] = \"keyboard\";\n})(ListenerType || (ListenerType = {}));\n\n// Used for MouseEvent.buttons (note the s on the end).\nvar MouseButtons = {\n  Left: 1,\n  Right: 2,\n  Center: 4\n}; // Used for e.button (note the lack of an s on the end).\n\nvar MouseButton = {\n  Left: 0,\n  Center: 1,\n  Right: 2\n};\n/**\n * Only touch events and mouse events where the left button is pressed should initiate a drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nfunction eventShouldStartDrag(e) {\n  // For touch events, button will be undefined. If e.button is defined,\n  // then it should be MouseButton.Left.\n  return e.button === undefined || e.button === MouseButton.Left;\n}\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nfunction eventShouldEndDrag(e) {\n  // Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n  // bit field unset if the left mouse button has been released\n  return e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0;\n}\nfunction isTouchEvent(e) {\n  return !!e.targetTouches;\n}\n\nvar ELEMENT_NODE = 1;\nfunction getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return undefined;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nfunction getEventClientTouchOffset(e, lastTargetTouchFallback) {\n  if (e.targetTouches.length === 1) {\n    return getEventClientOffset(e.targetTouches[0]);\n  } else if (lastTargetTouchFallback && e.touches.length === 1) {\n    if (e.touches[0].target === lastTargetTouchFallback.target) {\n      return getEventClientOffset(e.touches[0]);\n    }\n  }\n}\nfunction getEventClientOffset(e, lastTargetTouchFallback) {\n  if (isTouchEvent(e)) {\n    return getEventClientTouchOffset(e, lastTargetTouchFallback);\n  } else {\n    return {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n}\n\nfunction distance(x1, y1, x2, y2) {\n  return Math.sqrt(Math.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2));\n}\nfunction inAngleRanges(x1, y1, x2, y2, angleRanges) {\n  if (!angleRanges) {\n    return false;\n  }\n\n  var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI + 180;\n\n  for (var i = 0; i < angleRanges.length; ++i) {\n    if ((angleRanges[i].start == null || angle >= angleRanges[i].start) && (angleRanges[i].end == null || angle <= angleRanges[i].end)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar supportsPassive = function () {\n  // simular to jQuery's test\n  var supported = false;\n\n  try {\n    addEventListener('test', function () {// do nothing\n    }, Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supported = true;\n        return true;\n      }\n    }));\n  } catch (e) {// do nothing\n  }\n\n  return supported;\n}();\n\nfunction _classCallCheck$1(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$1(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$1(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$1(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$1(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(args, context) {\n    _classCallCheck$1(this, OptionsReader);\n\n    _defineProperty$1(this, \"args\", void 0);\n\n    _defineProperty$1(this, \"context\", void 0);\n\n    this.args = args;\n    this.context = context;\n  }\n\n  _createClass$1(OptionsReader, [{\n    key: \"delay\",\n    get: function get() {\n      var _this$args$delay;\n\n      return (_this$args$delay = this.args.delay) !== null && _this$args$delay !== void 0 ? _this$args$delay : 0;\n    }\n  }, {\n    key: \"scrollAngleRanges\",\n    get: function get() {\n      return this.args.scrollAngleRanges;\n    }\n  }, {\n    key: \"getDropTargetElementsAtPoint\",\n    get: function get() {\n      return this.args.getDropTargetElementsAtPoint;\n    }\n  }, {\n    key: \"ignoreContextMenu\",\n    get: function get() {\n      var _this$args$ignoreCont;\n\n      return (_this$args$ignoreCont = this.args.ignoreContextMenu) !== null && _this$args$ignoreCont !== void 0 ? _this$args$ignoreCont : false;\n    }\n  }, {\n    key: \"enableHoverOutsideTarget\",\n    get: function get() {\n      var _this$args$enableHove;\n\n      return (_this$args$enableHove = this.args.enableHoverOutsideTarget) !== null && _this$args$enableHove !== void 0 ? _this$args$enableHove : false;\n    }\n  }, {\n    key: \"enableKeyboardEvents\",\n    get: function get() {\n      var _this$args$enableKeyb;\n\n      return (_this$args$enableKeyb = this.args.enableKeyboardEvents) !== null && _this$args$enableKeyb !== void 0 ? _this$args$enableKeyb : false;\n    }\n  }, {\n    key: \"enableMouseEvents\",\n    get: function get() {\n      var _this$args$enableMous;\n\n      return (_this$args$enableMous = this.args.enableMouseEvents) !== null && _this$args$enableMous !== void 0 ? _this$args$enableMous : false;\n    }\n  }, {\n    key: \"enableTouchEvents\",\n    get: function get() {\n      var _this$args$enableTouc;\n\n      return (_this$args$enableTouc = this.args.enableTouchEvents) !== null && _this$args$enableTouc !== void 0 ? _this$args$enableTouc : true;\n    }\n  }, {\n    key: \"touchSlop\",\n    get: function get() {\n      return this.args.touchSlop || 0;\n    }\n  }, {\n    key: \"delayTouchStart\",\n    get: function get() {\n      var _ref, _this$args$delayTouch, _this$args, _this$args2;\n\n      return (_ref = (_this$args$delayTouch = (_this$args = this.args) === null || _this$args === void 0 ? void 0 : _this$args.delayTouchStart) !== null && _this$args$delayTouch !== void 0 ? _this$args$delayTouch : (_this$args2 = this.args) === null || _this$args2 === void 0 ? void 0 : _this$args2.delay) !== null && _ref !== void 0 ? _ref : 0;\n    }\n  }, {\n    key: \"delayMouseStart\",\n    get: function get() {\n      var _ref2, _this$args$delayMouse, _this$args3, _this$args4;\n\n      return (_ref2 = (_this$args$delayMouse = (_this$args3 = this.args) === null || _this$args3 === void 0 ? void 0 : _this$args3.delayMouseStart) !== null && _this$args$delayMouse !== void 0 ? _this$args$delayMouse : (_this$args4 = this.args) === null || _this$args4 === void 0 ? void 0 : _this$args4.delay) !== null && _ref2 !== void 0 ? _ref2 : 0;\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      if (this.context && this.context.window) {\n        return this.context.window;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$context;\n\n      if ((_this$context = this.context) !== null && _this$context !== void 0 && _this$context.document) {\n        return this.context.document;\n      }\n\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$args5;\n\n      return ((_this$args5 = this.args) === null || _this$args5 === void 0 ? void 0 : _this$args5.rootElement) || this.document;\n    }\n  }]);\n\n  return OptionsReader;\n}();\n\nvar _eventNames;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar eventNames = (_eventNames = {}, _defineProperty(_eventNames, ListenerType.mouse, {\n  start: 'mousedown',\n  move: 'mousemove',\n  end: 'mouseup',\n  contextmenu: 'contextmenu'\n}), _defineProperty(_eventNames, ListenerType.touch, {\n  start: 'touchstart',\n  move: 'touchmove',\n  end: 'touchend'\n}), _defineProperty(_eventNames, ListenerType.keyboard, {\n  keydown: 'keydown'\n}), _eventNames);\nvar TouchBackendImpl = /*#__PURE__*/function () {\n  // React-DnD Dependencies\n  // Internal State\n  // Patch for iOS 13, discussion over #1585\n  function TouchBackendImpl(manager, context, options) {\n    var _this = this;\n\n    _classCallCheck(this, TouchBackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"sourceNodes\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", void 0);\n\n    _defineProperty(this, \"targetNodes\", void 0);\n\n    _defineProperty(this, \"_mouseClientOffset\", void 0);\n\n    _defineProperty(this, \"_isScrolling\", void 0);\n\n    _defineProperty(this, \"listenerTypes\", void 0);\n\n    _defineProperty(this, \"moveStartSourceIds\", void 0);\n\n    _defineProperty(this, \"waitingForDelay\", void 0);\n\n    _defineProperty(this, \"timeout\", void 0);\n\n    _defineProperty(this, \"dragOverTargetIds\", void 0);\n\n    _defineProperty(this, \"draggedSourceNode\", void 0);\n\n    _defineProperty(this, \"draggedSourceNodeRemovalObserver\", void 0);\n\n    _defineProperty(this, \"lastTargetTouchFallback\", void 0);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var element = _this.sourceNodes.get(sourceId);\n\n      return element && getNodeClientOffset(element);\n    });\n\n    _defineProperty(this, \"handleTopMoveStartCapture\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      _this.moveStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleMoveStart\", function (sourceId) {\n      // Just because we received an event doesn't necessarily mean we need to collect drag sources.\n      // We only collect start collecting drag sources on touch and left mouse events.\n      if (Array.isArray(_this.moveStartSourceIds)) {\n        _this.moveStartSourceIds.unshift(sourceId);\n      }\n    });\n\n    _defineProperty(this, \"handleTopMoveStart\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      } // Don't prematurely preventDefault() here since it might:\n      // 1. Mess up scrolling\n      // 2. Mess up long tap (which brings up context menu)\n      // 3. If there's an anchor link as a child, tap won't be triggered on link\n\n\n      var clientOffset = getEventClientOffset(e);\n\n      if (clientOffset) {\n        if (isTouchEvent(e)) {\n          _this.lastTargetTouchFallback = e.targetTouches[0];\n        }\n\n        _this._mouseClientOffset = clientOffset;\n      }\n\n      _this.waitingForDelay = false;\n    });\n\n    _defineProperty(this, \"handleTopMoveStartDelay\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      var delay = e.type === eventNames.touch.start ? _this.options.delayTouchStart : _this.options.delayMouseStart;\n      _this.timeout = setTimeout(_this.handleTopMoveStart.bind(_this, e), delay);\n      _this.waitingForDelay = true;\n    });\n\n    _defineProperty(this, \"handleTopMoveCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleMove\", function (_evt, targetId) {\n      if (_this.dragOverTargetIds) {\n        _this.dragOverTargetIds.unshift(targetId);\n      }\n    });\n\n    _defineProperty(this, \"handleTopMove\", function (e) {\n      if (_this.timeout) {\n        clearTimeout(_this.timeout);\n      }\n\n      if (!_this.document || _this.waitingForDelay) {\n        return;\n      }\n\n      var moveStartSourceIds = _this.moveStartSourceIds,\n          dragOverTargetIds = _this.dragOverTargetIds;\n      var enableHoverOutsideTarget = _this.options.enableHoverOutsideTarget;\n      var clientOffset = getEventClientOffset(e, _this.lastTargetTouchFallback);\n\n      if (!clientOffset) {\n        return;\n      } // If the touch move started as a scroll, or is is between the scroll angles\n\n\n      if (_this._isScrolling || !_this.monitor.isDragging() && inAngleRanges(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y, _this.options.scrollAngleRanges)) {\n        _this._isScrolling = true;\n        return;\n      } // If we're not dragging and we've moved a little, that counts as a drag start\n\n\n      if (!_this.monitor.isDragging() && // eslint-disable-next-line no-prototype-builtins\n      _this._mouseClientOffset.hasOwnProperty('x') && moveStartSourceIds && distance(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y) > (_this.options.touchSlop ? _this.options.touchSlop : 0)) {\n        _this.moveStartSourceIds = undefined;\n\n        _this.actions.beginDrag(moveStartSourceIds, {\n          clientOffset: _this._mouseClientOffset,\n          getSourceClientOffset: _this.getSourceClientOffset,\n          publishSource: false\n        });\n      }\n\n      if (!_this.monitor.isDragging()) {\n        return;\n      }\n\n      var sourceNode = _this.sourceNodes.get(_this.monitor.getSourceId());\n\n      _this.installSourceNodeRemovalObserver(sourceNode);\n\n      _this.actions.publishDragSource();\n\n      if (e.cancelable) e.preventDefault(); // Get the node elements of the hovered DropTargets\n\n      var dragOverTargetNodes = (dragOverTargetIds || []).map(function (key) {\n        return _this.targetNodes.get(key);\n      }).filter(function (e) {\n        return !!e;\n      }); // Get the a ordered list of nodes that are touched by\n\n      var elementsAtPoint = _this.options.getDropTargetElementsAtPoint ? _this.options.getDropTargetElementsAtPoint(clientOffset.x, clientOffset.y, dragOverTargetNodes) : _this.document.elementsFromPoint(clientOffset.x, clientOffset.y); // Extend list with parents that are not receiving elementsFromPoint events (size 0 elements and svg groups)\n\n      var elementsAtPointExtended = [];\n\n      for (var nodeId in elementsAtPoint) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (!elementsAtPoint.hasOwnProperty(nodeId)) {\n          continue;\n        }\n\n        var currentNode = elementsAtPoint[nodeId];\n        elementsAtPointExtended.push(currentNode);\n\n        while (currentNode) {\n          currentNode = currentNode.parentElement;\n\n          if (currentNode && elementsAtPointExtended.indexOf(currentNode) === -1) {\n            elementsAtPointExtended.push(currentNode);\n          }\n        }\n      }\n\n      var orderedDragOverTargetIds = elementsAtPointExtended // Filter off nodes that arent a hovered DropTargets nodes\n      .filter(function (node) {\n        return dragOverTargetNodes.indexOf(node) > -1;\n      }) // Map back the nodes elements to targetIds\n      .map(function (node) {\n        return _this._getDropTargetId(node);\n      }) // Filter off possible null rows\n      .filter(function (node) {\n        return !!node;\n      }).filter(function (id, index, ids) {\n        return ids.indexOf(id) === index;\n      }); // Invoke hover for drop targets when source node is still over and pointer is outside\n\n      if (enableHoverOutsideTarget) {\n        for (var targetId in _this.targetNodes) {\n          var targetNode = _this.targetNodes.get(targetId);\n\n          if (sourceNode && targetNode && targetNode.contains(sourceNode) && orderedDragOverTargetIds.indexOf(targetId) === -1) {\n            orderedDragOverTargetIds.unshift(targetId);\n            break;\n          }\n        }\n      } // Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n\n\n      orderedDragOverTargetIds.reverse();\n\n      _this.actions.hover(orderedDragOverTargetIds, {\n        clientOffset: clientOffset\n      });\n    });\n\n    _defineProperty(this, \"_getDropTargetId\", function (node) {\n      var keys = _this.targetNodes.keys();\n\n      var next = keys.next();\n\n      while (next.done === false) {\n        var targetId = next.value;\n\n        if (node === _this.targetNodes.get(targetId)) {\n          return targetId;\n        } else {\n          next = keys.next();\n        }\n      }\n\n      return undefined;\n    });\n\n    _defineProperty(this, \"handleTopMoveEndCapture\", function (e) {\n      _this._isScrolling = false;\n      _this.lastTargetTouchFallback = undefined;\n\n      if (!eventShouldEndDrag(e)) {\n        return;\n      }\n\n      if (!_this.monitor.isDragging() || _this.monitor.didDrop()) {\n        _this.moveStartSourceIds = undefined;\n        return;\n      }\n\n      if (e.cancelable) e.preventDefault();\n      _this._mouseClientOffset = {};\n\n      _this.uninstallSourceNodeRemovalObserver();\n\n      _this.actions.drop();\n\n      _this.actions.endDrag();\n    });\n\n    _defineProperty(this, \"handleCancelOnEscape\", function (e) {\n      if (e.key === 'Escape' && _this.monitor.isDragging()) {\n        _this._mouseClientOffset = {};\n\n        _this.uninstallSourceNodeRemovalObserver();\n\n        _this.actions.endDrag();\n      }\n    });\n\n    this.options = new OptionsReader(options, context);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.sourceNodes = new Map();\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.targetNodes = new Map();\n    this.listenerTypes = [];\n    this._mouseClientOffset = {};\n    this._isScrolling = false;\n\n    if (this.options.enableMouseEvents) {\n      this.listenerTypes.push(ListenerType.mouse);\n    }\n\n    if (this.options.enableTouchEvents) {\n      this.listenerTypes.push(ListenerType.touch);\n    }\n\n    if (this.options.enableKeyboardEvents) {\n      this.listenerTypes.push(ListenerType.keyboard);\n    }\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(TouchBackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragOverTargetI;\n\n      return {\n        sourceNodes: this.sourceNodes.size,\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        targetNodes: this.targetNodes.size,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.options.rootElement;\n\n      if (!root) {\n        return;\n      }\n\n      invariant(!TouchBackendImpl.isSetUp, 'Cannot have two Touch backends at the same time.');\n      TouchBackendImpl.isSetUp = true;\n      this.addEventListener(root, 'start', this.getTopMoveStartHandler());\n      this.addEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n      this.addEventListener(root, 'move', this.handleTopMove);\n      this.addEventListener(root, 'move', this.handleTopMoveCapture, true);\n      this.addEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.addEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.addEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n      }\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.options.rootElement;\n\n      if (!root) {\n        return;\n      }\n\n      TouchBackendImpl.isSetUp = false;\n      this._mouseClientOffset = {};\n      this.removeEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n      this.removeEventListener(root, 'start', this.handleTopMoveStart);\n      this.removeEventListener(root, 'move', this.handleTopMoveCapture, true);\n      this.removeEventListener(root, 'move', this.handleTopMove);\n      this.removeEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.removeEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.removeEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n      }\n\n      this.uninstallSourceNodeRemovalObserver();\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.addEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.removeEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node) {\n      var _this2 = this;\n\n      var handleMoveStart = this.handleMoveStart.bind(this, sourceId);\n      this.sourceNodes.set(sourceId, node);\n      this.addEventListener(node, 'start', handleMoveStart);\n      return function () {\n        _this2.sourceNodes.delete(sourceId);\n\n        _this2.removeEventListener(node, 'start', handleMoveStart);\n      };\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this3.sourcePreviewNodes.delete(sourceId);\n\n        _this3.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var root = this.options.rootElement;\n\n      if (!this.document || !root) {\n        return function () {\n          /* noop */\n        };\n      }\n\n      var handleMove = function handleMove(e) {\n        if (!_this4.document || !root || !_this4.monitor.isDragging()) {\n          return;\n        }\n\n        var coords;\n        /**\n         * Grab the coordinates for the current mouse/touch position\n         */\n\n        switch (e.type) {\n          case eventNames.mouse.move:\n            coords = {\n              x: e.clientX,\n              y: e.clientY\n            };\n            break;\n\n          case eventNames.touch.move:\n            coords = {\n              x: e.touches[0].clientX,\n              y: e.touches[0].clientY\n            };\n            break;\n        }\n        /**\n         * Use the coordinates to grab the element the drag ended on.\n         * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n         */\n\n\n        var droppedOn = coords != null ? _this4.document.elementFromPoint(coords.x, coords.y) : undefined;\n        var childMatch = droppedOn && node.contains(droppedOn);\n\n        if (droppedOn === node || childMatch) {\n          return _this4.handleMove(e, targetId);\n        }\n      };\n      /**\n       * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n       */\n\n\n      this.addEventListener(this.document.body, 'move', handleMove);\n      this.targetNodes.set(targetId, node);\n      return function () {\n        if (_this4.document) {\n          _this4.targetNodes.delete(targetId);\n\n          _this4.removeEventListener(_this4.document.body, 'move', handleMove);\n        }\n      };\n    }\n  }, {\n    key: \"getTopMoveStartHandler\",\n    value: function getTopMoveStartHandler() {\n      if (!this.options.delayTouchStart && !this.options.delayMouseStart) {\n        return this.handleTopMoveStart;\n      }\n\n      return this.handleTopMoveStartDelay;\n    }\n  }, {\n    key: \"installSourceNodeRemovalObserver\",\n    value: function installSourceNodeRemovalObserver(node) {\n      var _this5 = this;\n\n      this.uninstallSourceNodeRemovalObserver();\n      this.draggedSourceNode = node;\n      this.draggedSourceNodeRemovalObserver = new MutationObserver(function () {\n        if (node && !node.parentElement) {\n          _this5.resurrectSourceNode();\n\n          _this5.uninstallSourceNodeRemovalObserver();\n        }\n      });\n\n      if (!node || !node.parentElement) {\n        return;\n      }\n\n      this.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n        childList: true\n      });\n    }\n  }, {\n    key: \"resurrectSourceNode\",\n    value: function resurrectSourceNode() {\n      if (this.document && this.draggedSourceNode) {\n        this.draggedSourceNode.style.display = 'none';\n        this.draggedSourceNode.removeAttribute('data-reactid');\n        this.document.body.appendChild(this.draggedSourceNode);\n      }\n    }\n  }, {\n    key: \"uninstallSourceNodeRemovalObserver\",\n    value: function uninstallSourceNodeRemovalObserver() {\n      if (this.draggedSourceNodeRemovalObserver) {\n        this.draggedSourceNodeRemovalObserver.disconnect();\n      }\n\n      this.draggedSourceNodeRemovalObserver = undefined;\n      this.draggedSourceNode = undefined;\n    }\n  }]);\n\n  return TouchBackendImpl;\n}();\n\n_defineProperty(TouchBackendImpl, \"isSetUp\", void 0);\n\nvar TouchBackend = function createBackend(manager) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return new TouchBackendImpl(manager, context, options);\n};\n\nvar HTML5toTouch = {\n  backends: [{\n    backend: HTML5Backend,\n    transition: MouseTransition\n  }, {\n    backend: TouchBackend,\n    options: {\n      enableMouseEvents: true\n    },\n    preview: true,\n    transition: TouchTransition\n  }]\n};\n\nconst COLUMNS = 'abcdefgh'.split('');\nconst chessboardPropTypes = {\n  // time in milliseconds for piece to slide to target square. Only used when the position is programmatically changed\n  animationDuration: PropTypes.number,\n  // if pieces are draggable\n  arePiecesDraggable: PropTypes.bool,\n  // if premoves are allowed\n  arePremovesAllowed: PropTypes.bool,\n  // Orientation of the board\n  boardOrientation: PropTypes.oneOf(['white', 'black']),\n  // width of board in pixels. for responsive width show useChessBoardSize/useScreenSize example\n  boardWidth: PropTypes.number,\n  // if premoves should be cleared on right click\n  clearPremovesOnRightClick: PropTypes.bool,\n  // board style object e.g. { borderRadius: '5px', boxShadow: `0 5px 15px rgba(0, 0, 0, 0.5)`}\n  customBoardStyle: PropTypes.object,\n  // dark square style object e.g. { backgroundColor: '#B58863' }\n  customDarkSquareStyle: PropTypes.object,\n  // current drop square style object e.g. { backgroundColor: 'sienna' }\n  customDropSquareStyle: PropTypes.object,\n  // light square style object e.g. { backgroundColor: '#F0D9B5' }\n  customLightSquareStyle: PropTypes.object,\n  // pieces object where each piece returns JSX to render. { wK: ({ isDragging: boolean, squareWidth: pixels, droppedPiece: piece string, targetSquare: square string, sourceSquare: square string }) => jsx }\n  customPieces: PropTypes.object,\n  // premove highlight dark square style object e.g. { backgroundColor: '#F0D9B5' }\n  customPremoveDarkSquareStyle: PropTypes.object,\n  // premove highlight light square style object e.g. { backgroundColor: '#F0D9B5' }\n  customPremoveLightSquareStyle: PropTypes.object,\n  // custom squares style object. e.g. {'e4': {backgroundColor: 'orange'}, ...}\n  customSquareStyles: PropTypes.object,\n  // behavior of pieces when dropped off the board. 'snapback' brings the piece back to it's original square, 'trash' deletes the piece from the board\n  dropOffBoardAction: PropTypes.oneOf(['snapback', 'trash']),\n  // if expecting pieces that move to alternate from white to black\n  expectingAlternateMoves: PropTypes.bool,\n  // board identifier, necessary if more than one board is mounted for drag and drop.\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  // function called when a piece drag is initiated. Returns if piece is draggable ({ piece: string, sourceSquare: string }) => bool\n  isDraggablePiece: PropTypes.func,\n  // user function that receives current position object when position changes. (currentPosition: object) => void\n  getPositionObject: PropTypes.func,\n  // user function that is run when piece is dragged over a square (square: string) => void\n  onDragOverSquare: PropTypes.func,\n  // user function that is run when mouse leaves a square (square: string) => void\n  onMouseOutSquare: PropTypes.func,\n  // user function that is run when mouse is over a square (square: string) => void\n  onMouseOverSquare: PropTypes.func,\n  // user function that is run when piece is clicked (piece: string) => void\n  onPieceClick: PropTypes.func,\n  // user function that is run when piece is dropped on a square ({ sourceSquare: string, targetSquare: string, piece: string }) => void\n  onPieceDrop: PropTypes.func,\n  // user function that is run when a square is clicked (square: string) => void\n  onSquareClick: PropTypes.func,\n  // user function that is run when a square is right clicked (square: string) => void\n  onSquareRightClick: PropTypes.func,\n  // FEN string or a position object ({ e5: 'wK', e4: 'wP', e7: 'bK' })\n  position: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  // show file character and rank numbers (a..h, 1..8)\n  showBoardNotation: PropTypes.bool // show spare pieces above and below board.\n  // showSparePieces: PropTypes.bool\n\n};\nconst chessboardDefaultProps = {\n  animationDuration: 300,\n  arePiecesDraggable: true,\n  arePremovesAllowed: false,\n  boardOrientation: 'white',\n  boardWidth: 560,\n  clearPremovesOnRightClick: true,\n  customBoardStyle: {},\n  customDarkSquareStyle: {\n    backgroundColor: '#B58863'\n  },\n  customDropSquareStyle: {\n    boxShadow: 'inset 0 0 1px 6px rgba(255,255,255,0.75)'\n  },\n  customLightSquareStyle: {\n    backgroundColor: '#F0D9B5'\n  },\n  customPieces: {},\n  customPremoveDarkSquareStyle: {\n    backgroundColor: '#a42323'\n  },\n  customPremoveLightSquareStyle: {\n    backgroundColor: '#bd2828'\n  },\n  customSquareStyles: {},\n  dropOffBoardAction: 'snapback',\n  expectingAlternateMoves: true,\n  id: 0,\n  isDraggablePiece: () => true,\n  getPositionObject: () => {},\n  onDragOverSquare: () => {},\n  onMouseOutSquare: () => {},\n  onMouseOverSquare: () => {},\n  onPieceClick: () => {},\n  onPieceDrop: () => true,\n  onSquareClick: () => {},\n  onSquareRightClick: () => {},\n  position: 'start',\n  showBoardNotation: true // showSparePieces: false\n\n};\n\nconst defaultPieces = {\n  wP: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsx(\"path\", {\n      d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\",\n      style: {\n        opacity: '1',\n        fill: '#ffffff',\n        fillOpacity: '1',\n        fillRule: 'nonzero',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'miter',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      }\n    })\n  }),\n  wR: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: '#ffffff',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 34,14 L 31,17 L 14,17 L 11,14\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 31,17 L 31,29.5 L 14,29.5 L 14,17\",\n        style: {\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 34,14\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  wN: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\n        transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      })]\n    })\n  }),\n  wB: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillRule: 'evenodd',\n        fillOpacity: '1',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"\n        })]\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  wQ: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: '#ffffff',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinejoin: 'round'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11.5,30 C 15,29 30,29 33.5,30\",\n        style: {\n          fill: 'none'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,33.5 C 18,32.5 27,32.5 33,33.5\",\n        style: {\n          fill: 'none'\n        }\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"6\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"14\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"22.5\",\n        cy: \"8\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"31\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"39\",\n        cy: \"12\",\n        r: \"2\"\n      })]\n    })\n  }),\n  wK: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,11.63 L 22.5,6\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 20,8 L 25,8\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000',\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,30 C 18,27 27,27 32.5,30\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,34 27,34 32.5,37\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      })]\n    })\n  }),\n  bP: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsx(\"path\", {\n      d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\",\n      style: {\n        opacity: '1',\n        fill: '#000000',\n        fillOpacity: '1',\n        fillRule: 'nonzero',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'miter',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      }\n    })\n  }),\n  bR: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: '#000000',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \",\n        style: {\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,35.5 L 33,35.5 L 33,35.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 13,31.5 L 32,31.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,29.5 L 31,29.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,16.5 L 31,16.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 34,14\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  bN: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\n        transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \",\n        style: {\n          fill: '#ffffff',\n          stroke: 'none'\n        }\n      })]\n    })\n  }),\n  bB: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillRule: 'evenodd',\n        fillOpacity: '1',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: '#000000',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"\n        })]\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  bQ: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: '#000000',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\",\n        style: {\n          strokeLinecap: 'butt',\n          fill: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11.5,30 C 15,29 30,29 33.5,30\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"m 12,33.5 c 6,-1 15,-1 21,0\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"6\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"14\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"22.5\",\n        cy: \"8\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"31\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"39\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,38.5 A 35,35 1 0 0 34,38.5\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 11,29 A 35,35 1 0 1 34,29\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 12.5,31.5 L 32.5,31.5\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\"\n        })]\n      })]\n    })\n  }),\n  bK: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,11.63 L 22.5,6\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        },\n        id: \"path6570\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\",\n        style: {\n          fill: '#000000',\n          fillOpacity: '1',\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 20,8 L 25,8\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        }\n      })]\n    })\n  })\n};\n\nconst startPositionObject = {\n  a8: 'bR',\n  b8: 'bN',\n  c8: 'bB',\n  d8: 'bQ',\n  e8: 'bK',\n  f8: 'bB',\n  g8: 'bN',\n  h8: 'bR',\n  a7: 'bP',\n  b7: 'bP',\n  c7: 'bP',\n  d7: 'bP',\n  e7: 'bP',\n  f7: 'bP',\n  g7: 'bP',\n  h7: 'bP',\n  a2: 'wP',\n  b2: 'wP',\n  c2: 'wP',\n  d2: 'wP',\n  e2: 'wP',\n  f2: 'wP',\n  g2: 'wP',\n  h2: 'wP',\n  a1: 'wR',\n  b1: 'wN',\n  c1: 'wB',\n  d1: 'wQ',\n  e1: 'wK',\n  f1: 'wB',\n  g1: 'wN',\n  h1: 'wR'\n};\nconst isDifferentFromStart = newPosition => {\n  let isDifferent = false;\n  Object.keys(startPositionObject).forEach(square => {\n    if (newPosition[square] !== startPositionObject[square]) isDifferent = true;\n  });\n  Object.keys(newPosition).forEach(square => {\n    if (startPositionObject[square] !== newPosition[square]) isDifferent = true;\n  });\n  return isDifferent;\n};\nconst getPositionDifferences = (currentPosition, newPosition) => {\n  const difference = {\n    removed: {},\n    added: {}\n  }; // removed from current\n\n  Object.keys(currentPosition).forEach(square => {\n    if (newPosition[square] !== currentPosition[square]) difference.removed[square] = currentPosition[square];\n  }); // added from new\n\n  Object.keys(newPosition).forEach(square => {\n    if (currentPosition[square] !== newPosition[square]) difference.added[square] = newPosition[square];\n  });\n  return difference;\n};\n\nfunction isString(s) {\n  return typeof s === 'string';\n}\n\nfunction convertPositionToObject(position) {\n  if (position === 'start') return fenToObj('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR');\n  if (validFen(position)) return fenToObj(position);\n  if (validPositionObject(position)) return position;\n  return {};\n}\nfunction fenToObj(fen) {\n  if (!validFen(fen)) return false; // cut off any move, castling, etc info from the end. we're only interested in position information\n\n  fen = fen.replace(/ .+$/, '');\n  const rows = fen.split('/');\n  const position = {};\n  let currentRow = 8;\n\n  for (let i = 0; i < 8; i++) {\n    const row = rows[i].split('');\n    let colIdx = 0; // loop through each character in the FEN section\n\n    for (let j = 0; j < row.length; j++) {\n      // number / empty squares\n      if (row[j].search(/[1-8]/) !== -1) {\n        const numEmptySquares = parseInt(row[j], 10);\n        colIdx = colIdx + numEmptySquares;\n      } else {\n        // piece\n        const square = COLUMNS[colIdx] + currentRow;\n        position[square] = fenToPieceCode(row[j]);\n        colIdx = colIdx + 1;\n      }\n    }\n\n    currentRow = currentRow - 1;\n  }\n\n  return position;\n}\n\nfunction expandFenEmptySquares(fen) {\n  return fen.replace(/8/g, '11111111').replace(/7/g, '1111111').replace(/6/g, '111111').replace(/5/g, '11111').replace(/4/g, '1111').replace(/3/g, '111').replace(/2/g, '11');\n}\n\nfunction validFen(fen) {\n  if (!isString(fen)) return false; // cut off any move, castling, etc info from the end. we're only interested in position information\n\n  fen = fen.replace(/ .+$/, ''); // expand the empty square numbers to just 1s\n\n  fen = expandFenEmptySquares(fen); // FEN should be 8 sections separated by slashes\n\n  const chunks = fen.split('/');\n  if (chunks.length !== 8) return false; // check each section\n\n  for (let i = 0; i < 8; i++) {\n    if (chunks[i].length !== 8 || chunks[i].search(/[^kqrnbpKQRNBP1]/) !== -1) {\n      return false;\n    }\n  }\n\n  return true;\n} // convert FEN piece code to bP, wK, etc\n\nfunction fenToPieceCode(piece) {\n  // black piece\n  if (piece.toLowerCase() === piece) {\n    return 'b' + piece.toUpperCase();\n  } // white piece\n\n\n  return 'w' + piece.toUpperCase();\n}\n\nfunction validSquare(square) {\n  return isString(square) && square.search(/^[a-h][1-8]$/) !== -1;\n}\n\nfunction validPieceCode(code) {\n  return isString(code) && code.search(/^[bw][KQRNBP]$/) !== -1;\n}\n\nfunction validPositionObject(pos) {\n  if (pos === null || typeof pos !== 'object') return false;\n\n  for (const i in pos) {\n    if (!pos[i]) continue;\n\n    if (!validSquare(i) || !validPieceCode(pos[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nconst ChessboardContext = /*#__PURE__*/React.createContext();\nconst useChessboard = () => useContext(ChessboardContext);\nconst ChessboardProvider = /*#__PURE__*/forwardRef(({\n  animationDuration,\n  arePiecesDraggable,\n  arePremovesAllowed,\n  boardOrientation,\n  boardWidth,\n  clearPremovesOnRightClick,\n  customBoardStyle,\n  customDarkSquareStyle,\n  customDropSquareStyle,\n  customLightSquareStyle,\n  customPieces,\n  customPremoveDarkSquareStyle,\n  customPremoveLightSquareStyle,\n  customSquareStyles,\n  dropOffBoardAction,\n  expectingAlternateMoves,\n  id,\n  isDraggablePiece,\n  getPositionObject,\n  onDragOverSquare,\n  onMouseOutSquare,\n  onMouseOverSquare,\n  onPieceClick,\n  onPieceDrop,\n  onSquareClick,\n  onSquareRightClick,\n  position,\n  showBoardNotation,\n  showSparePieces,\n  children\n}, ref) => {\n  // position stored and displayed on board\n  const [currentPosition, setCurrentPosition] = useState(convertPositionToObject(position)); // calculated differences between current and incoming positions\n\n  const [positionDifferences, setPositionDifferences] = useState({}); // colour of last piece moves to determine if premoving\n\n  const [lastPieceColour, setLastPieceColour] = useState(undefined); // current premoves\n\n  const [premoves, setPremoves] = useState([]); // ref used to access current value during timeouts (closures)\n\n  const premovesRef = useRef(premoves); // chess pieces/styling\n\n  const [chessPieces, setChessPieces] = useState({ ...defaultPieces,\n    ...customPieces\n  }); // whether the last move was a manual drop or not\n\n  const [manualDrop, setManualDrop] = useState(false); // the most recent timeout whilst waiting for animation to complete\n\n  const [previousTimeout, setPreviousTimeout] = useState(undefined); // screen size\n\n  const [screenSize, setScreenSize] = useState(undefined); // if currently waiting for an animation to finish\n\n  const [waitingForAnimation, setWaitingForAnimation] = useState(false); // open clearPremoves() to allow user to call on undo/reset/whenever\n\n  useImperativeHandle(ref, () => ({\n    clearPremoves() {\n      clearPremoves();\n    }\n\n  })); // init screen size listener to update screen size on any window size changes\n\n  useEffect(() => {\n    function handleResize() {\n      setScreenSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    }\n\n    window.addEventListener('resize', handleResize);\n    handleResize();\n    return () => window.removeEventListener('resize', handleResize);\n  }, []); // handle external position change\n\n  useEffect(() => {\n    const newPosition = convertPositionToObject(position);\n    const differences = getPositionDifferences(currentPosition, newPosition);\n    const newPieceColour = Object.keys(differences.added)?.length <= 2 ? Object.entries(differences.added)?.[0]?.[1][0] : undefined; // external move has come in before animation is over\n    // cancel animation and immediately update position\n\n    if (waitingForAnimation) {\n      setCurrentPosition(newPosition);\n      setWaitingForAnimation(false);\n\n      if (previousTimeout) {\n        clearTimeout(previousTimeout);\n      }\n    } else {\n      // move was made using drag and drop\n      if (manualDrop) {\n        setCurrentPosition(newPosition);\n        setWaitingForAnimation(false);\n      } else {\n        // move was made by external position change\n        // if position === start then don't override newPieceColour\n        // needs isDifferentFromStart in scenario where premoves have been cleared upon board reset but first move is made by computer, the last move colour would need to be updated\n        if (isDifferentFromStart(newPosition) && lastPieceColour !== undefined) {\n          setLastPieceColour(newPieceColour);\n        }\n\n        setPositionDifferences(differences); // animate external move\n\n        setWaitingForAnimation(true);\n        const newTimeout = setTimeout(() => {\n          setCurrentPosition(newPosition);\n          setWaitingForAnimation(false);\n          arePremovesAllowed && attemptPremove(newPieceColour);\n        }, animationDuration);\n        setPreviousTimeout(newTimeout);\n      }\n    } // reset manual drop, ready for next move to be made by user or external\n\n\n    setManualDrop(false); // inform latest position information\n\n    getPositionObject(newPosition); // clear timeout on unmount\n\n    return () => {\n      clearTimeout(previousTimeout);\n    };\n  }, [position]); // handle drop position change\n\n  function handleSetPosition(sourceSq, targetSq, piece) {\n    // if dropped back down, don't do anything\n    // if premoves not allowed and expecting alternate moves and same piece colour moved, don't do anything\n    if (sourceSq === targetSq || !arePremovesAllowed && expectingAlternateMoves && lastPieceColour === piece[0]) {\n      return;\n    } // if second move is made for same colour, or there are still premoves queued, then this move needs to be added to premove queue instead of played\n    // premoves length check is added in because white could make 3 premoves, and then black responds to the first move (changing the last piece colour) and then white pre-moves again\n\n\n    if (arePremovesAllowed && (lastPieceColour === piece[0] || premovesRef.current.length > 0)) {\n      const oldPremoves = [...premovesRef.current];\n      oldPremoves.push({\n        sourceSq,\n        targetSq,\n        piece\n      });\n      premovesRef.current = oldPremoves;\n      setPremoves([...oldPremoves]);\n      return;\n    } // if transitioning, don't allow new drop\n\n\n    if (waitingForAnimation) return;\n    const newOnDropPosition = { ...currentPosition\n    };\n    setManualDrop(true);\n    setLastPieceColour(piece[0]); // if onPieceDrop function provided, execute it, position must be updated externally and captured by useEffect above for this move to show on board\n\n    if (onPieceDrop.length) {\n      const isValidMove = onPieceDrop(sourceSq, targetSq, piece);\n      if (!isValidMove) clearPremoves();\n    } else {\n      // delete if dropping off board\n      if (dropOffBoardAction === 'trash' && !targetSq) {\n        delete newOnDropPosition[sourceSq];\n      } // delete source piece if not dropping from spare piece\n\n\n      if (sourceSq !== 'spare') {\n        delete newOnDropPosition[sourceSq];\n      } // add piece in new position\n\n\n      newOnDropPosition[targetSq] = piece;\n      setCurrentPosition(newOnDropPosition);\n    } // inform latest position information\n\n\n    getPositionObject(newOnDropPosition);\n  }\n\n  function attemptPremove(newPieceColour) {\n    if (premovesRef.current.length === 0) return; // get current value of premove as this is called in a timeout so value may have changed since timeout was set\n\n    const premove = premovesRef.current[0]; // if premove is a differing colour to last move made, then this move can be made\n\n    if (premove.piece[0] !== undefined && premove.piece[0] !== newPieceColour && onPieceDrop.length) {\n      setLastPieceColour(premove.piece[0]);\n      setManualDrop(true); // pre-move doesn't need animation\n\n      const isValidMove = onPieceDrop(premove.sourceSq, premove.targetSq, premove.piece); // premove was successful and can be removed from queue\n\n      if (isValidMove) {\n        const oldPremoves = [...premovesRef.current];\n        oldPremoves.shift();\n        premovesRef.current = oldPremoves;\n        setPremoves([...oldPremoves]);\n      } else {\n        // premove wasn't successful, clear premove queue\n        clearPremoves();\n      }\n    }\n  }\n\n  function clearPremoves() {\n    setLastPieceColour(undefined);\n    premovesRef.current = [];\n    setPremoves([]);\n  }\n\n  return /*#__PURE__*/jsx(ChessboardContext.Provider, {\n    value: {\n      animationDuration,\n      arePiecesDraggable,\n      arePremovesAllowed,\n      boardOrientation,\n      boardWidth,\n      clearPremovesOnRightClick,\n      customBoardStyle,\n      customDarkSquareStyle,\n      customDropSquareStyle,\n      customLightSquareStyle,\n      customPremoveDarkSquareStyle,\n      customPremoveLightSquareStyle,\n      customSquareStyles,\n      dropOffBoardAction,\n      id,\n      isDraggablePiece,\n      getPositionObject,\n      onDragOverSquare,\n      onMouseOutSquare,\n      onMouseOverSquare,\n      onPieceClick,\n      onPieceDrop,\n      onSquareClick,\n      onSquareRightClick,\n      showBoardNotation,\n      showSparePieces,\n      chessPieces,\n      clearPremoves,\n      currentPosition,\n      handleSetPosition,\n      lastPieceColour,\n      manualDrop,\n      positionDifferences,\n      premoves,\n      screenSize,\n      setChessPieces,\n      setCurrentPosition,\n      setManualDrop,\n      waitingForAnimation\n    },\n    children: children\n  });\n});\n\nfunction Notation({\n  row,\n  col\n}) {\n  const {\n    boardOrientation,\n    boardWidth,\n    customDarkSquareStyle,\n    customLightSquareStyle\n  } = useChessboard();\n  const whiteColor = customLightSquareStyle.backgroundColor;\n  const blackColor = customDarkSquareStyle.backgroundColor;\n  const isRow = col === 0;\n  const isColumn = row === 7;\n  const isBottomLeftSquare = isRow && isColumn;\n\n  function getRow() {\n    return boardOrientation === 'white' ? 8 - row : row + 1;\n  }\n\n  function getColumn() {\n    return boardOrientation === 'black' ? COLUMNS[7 - col] : COLUMNS[col];\n  }\n\n  function renderBottomLeft() {\n    return /*#__PURE__*/jsxs(Fragment, {\n      children: [/*#__PURE__*/jsx(\"div\", {\n        style: { ...notationStyle,\n          ...{\n            color: whiteColor\n          },\n          ...numericStyle(boardWidth)\n        },\n        children: getRow()\n      }), /*#__PURE__*/jsx(\"div\", {\n        style: { ...notationStyle,\n          ...{\n            color: whiteColor\n          },\n          ...alphaStyle(boardWidth)\n        },\n        children: getColumn()\n      })]\n    });\n  }\n\n  function renderLetters() {\n    return /*#__PURE__*/jsx(\"div\", {\n      style: { ...notationStyle,\n        ...{\n          color: col % 2 !== 0 ? blackColor : whiteColor\n        },\n        ...alphaStyle(boardWidth)\n      },\n      children: getColumn()\n    });\n  }\n\n  function renderNumbers() {\n    return /*#__PURE__*/jsx(\"div\", {\n      style: { ...notationStyle,\n        ...(boardOrientation === 'black' ? {\n          color: row % 2 === 0 ? blackColor : whiteColor\n        } : {\n          color: row % 2 === 0 ? blackColor : whiteColor\n        }),\n        ...numericStyle(boardWidth)\n      },\n      children: getRow()\n    });\n  }\n\n  if (isBottomLeftSquare) {\n    return renderBottomLeft();\n  }\n\n  if (isColumn) {\n    return renderLetters();\n  }\n\n  if (isRow) {\n    return renderNumbers();\n  }\n\n  return null;\n}\n\nconst alphaStyle = width => ({\n  alignSelf: 'flex-end',\n  paddingLeft: width / 8 - width / 48,\n  fontSize: width / 48\n});\n\nconst numericStyle = width => ({\n  alignSelf: 'flex-start',\n  paddingRight: width / 8 - width / 48,\n  fontSize: width / 48\n});\n\nconst notationStyle = {\n  fontFamily: 'Helvetica Neue',\n  zIndex: 3,\n  position: 'absolute'\n};\n\nfunction Piece({\n  square,\n  piece,\n  getSquareCoordinates,\n  getSingleSquareCoordinates,\n  isPremovedPiece = false\n}) {\n  const {\n    animationDuration,\n    arePiecesDraggable,\n    arePremovesAllowed,\n    boardWidth,\n    id,\n    isDraggablePiece,\n    onPieceClick,\n    premoves,\n    chessPieces,\n    dropTarget,\n    positionDifferences,\n    waitingForAnimation,\n    currentPosition\n  } = useChessboard();\n  const [pieceStyle, setPieceStyle] = useState({\n    opacity: 1,\n    zIndex: 5,\n    touchAction: 'none',\n    cursor: arePiecesDraggable && isDraggablePiece({\n      piece,\n      sourceSquare: square\n    }) ? '-webkit-grab' : 'default'\n  });\n  const [{\n    canDrag,\n    isDragging\n  }, drag, dragPreview] = useDrag(() => ({\n    type: 'piece',\n    item: {\n      piece,\n      square,\n      id\n    },\n    collect: monitor => ({\n      canDrag: isDraggablePiece({\n        piece,\n        sourceSquare: square\n      }),\n      isDragging: !!monitor.isDragging()\n    })\n  }), [piece, square, currentPosition, id]); // hide the default preview\n\n  useEffect(() => {\n    dragPreview(getEmptyImage(), {\n      captureDraggingState: true\n    });\n  }, []); // hide piece on drag\n\n  useEffect(() => {\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      opacity: isDragging ? 0 : 1\n    }));\n  }, [isDragging]); // hide piece on matching premoves\n\n  useEffect(() => {\n    // if premoves aren't allowed, don't waste time on calculations\n    if (!arePremovesAllowed) return;\n    let hidePiece = false; // side effect: if piece moves into pre-moved square, its hidden\n    // if there are any premove targets on this square, hide the piece underneath\n\n    if (!isPremovedPiece && premoves.find(p => p.targetSq === square)) hidePiece = true; // if sourceSq === sq and piece matches then this piece has been pre-moved elsewhere?\n\n    if (premoves.find(p => p.sourceSq === square && p.piece === piece)) hidePiece = true; // TODO: If a premoved piece returns to a premoved square, it will hide (e1, e2, e1)\n\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      display: hidePiece ? 'none' : 'unset'\n    }));\n  }, [currentPosition, premoves]); // new move has come in\n  // if waiting for animation, then animation has started and we can perform animation\n  // we need to head towards where we need to go, we are the source, we are heading towards the target\n\n  useEffect(() => {\n    const removedPiece = positionDifferences.removed?.[square]; // check if piece matches or if removed piece was a pawn and new square is on 1st or 8th rank (promotion)\n\n    const newSquare = Object.entries(positionDifferences.added).find(([s, p]) => p === removedPiece || removedPiece?.[1] === 'P' && (s[1] === '1' || s[1] === '8')); // we can perform animation if our square was in removed, AND the matching piece is in added AND this isn't a premoved piece\n\n    if (waitingForAnimation && removedPiece && newSquare && !isPremovedPiece) {\n      const {\n        sourceSq,\n        targetSq\n      } = getSquareCoordinates(square, newSquare[0]);\n\n      if (sourceSq && targetSq) {\n        setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n          transform: `translate(${targetSq.x - sourceSq.x}px, ${targetSq.y - sourceSq.y}px)`,\n          transition: `transform ${animationDuration}ms`\n        }));\n      }\n    }\n  }, [positionDifferences]); // translate to their own positions (repaint on undo)\n\n  useEffect(() => {\n    const {\n      sourceSq\n    } = getSingleSquareCoordinates(square);\n\n    if (sourceSq) {\n      setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n        transform: `translate(${0}px, ${0}px)`,\n        transition: `transform ${0}ms`\n      }));\n    }\n  }, [currentPosition]); // update is piece draggable\n\n  useEffect(() => {\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      cursor: arePiecesDraggable && isDraggablePiece({\n        piece,\n        sourceSquare: square\n      }) ? '-webkit-grab' : 'default'\n    }));\n  }, [square, currentPosition]);\n  return /*#__PURE__*/jsx(\"div\", {\n    ref: arePiecesDraggable ? canDrag ? drag : null : null,\n    onClick: () => onPieceClick(piece),\n    style: pieceStyle,\n    children: typeof chessPieces[piece] === 'function' ? chessPieces[piece]({\n      squareWidth: boardWidth / 8,\n      isDragging,\n      droppedPiece: dropTarget?.piece,\n      targetSquare: dropTarget?.target,\n      sourceSquare: dropTarget?.source\n    }) : /*#__PURE__*/jsx(\"svg\", {\n      viewBox: '1 1 43 43',\n      width: boardWidth / 8,\n      height: boardWidth / 8,\n      children: /*#__PURE__*/jsx(\"g\", {\n        children: chessPieces[piece]\n      })\n    })\n  });\n}\n\nfunction Square({\n  square,\n  squareColor,\n  setSquares,\n  squareHasPremove,\n  children\n}) {\n  const squareRef = useRef();\n  const {\n    boardWidth,\n    boardOrientation,\n    clearPremoves,\n    clearPremovesOnRightClick,\n    currentPosition,\n    customBoardStyle,\n    customDarkSquareStyle,\n    customDropSquareStyle,\n    customLightSquareStyle,\n    customPremoveDarkSquareStyle,\n    customPremoveLightSquareStyle,\n    customSquareStyles,\n    handleSetPosition,\n    lastPieceColour,\n    onDragOverSquare,\n    onMouseOutSquare,\n    onMouseOverSquare,\n    onSquareClick,\n    onSquareRightClick,\n    waitingForAnimation\n  } = useChessboard();\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: 'piece',\n    drop: item => handleSetPosition(item.square, square, item.piece),\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }), [square, currentPosition, waitingForAnimation, lastPieceColour]);\n  useEffect(() => {\n    const {\n      x,\n      y\n    } = squareRef.current.getBoundingClientRect();\n    setSquares(oldSquares => ({ ...oldSquares,\n      [square]: {\n        x,\n        y\n      }\n    }));\n  }, [boardWidth]);\n  const defaultSquareStyle = { ...borderRadius(customBoardStyle, square, boardOrientation),\n    ...(squareColor === 'black' ? customDarkSquareStyle : customLightSquareStyle),\n    ...(squareHasPremove && (squareColor === 'black' ? customPremoveDarkSquareStyle : customPremoveLightSquareStyle)),\n    ...(isOver && customDropSquareStyle)\n  };\n  return /*#__PURE__*/jsx(\"div\", {\n    ref: drop,\n    style: defaultSquareStyle,\n    onMouseOver: () => onMouseOverSquare(square),\n    onMouseOut: () => onMouseOutSquare(square),\n    onDragEnter: () => onDragOverSquare(square),\n    onClick: () => onSquareClick(square),\n    onContextMenu: e => {\n      e.preventDefault();\n      clearPremovesOnRightClick && clearPremoves();\n      onSquareRightClick(square);\n    },\n    children: /*#__PURE__*/jsx(\"div\", {\n      ref: squareRef,\n      style: { ...size(boardWidth),\n        ...center,\n        ...customSquareStyles?.[square]\n      },\n      children: children\n    })\n  });\n}\nconst center = {\n  display: 'flex',\n  justifyContent: 'center'\n};\n\nconst size = width => ({\n  width: width / 8,\n  height: width / 8\n});\n\nconst borderRadius = (customBoardStyle, square, boardOrientation) => {\n  if (!customBoardStyle.borderRadius) return {};\n\n  if (square === 'a1') {\n    return boardOrientation === 'white' ? {\n      borderBottomLeftRadius: customBoardStyle.borderRadius\n    } : {\n      borderTopRightRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'a8') {\n    return boardOrientation === 'white' ? {\n      borderTopLeftRadius: customBoardStyle.borderRadius\n    } : {\n      borderBottomRightRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'h1') {\n    return boardOrientation === 'white' ? {\n      borderBottomRightRadius: customBoardStyle.borderRadius\n    } : {\n      borderTopLeftRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'h8') {\n    return boardOrientation === 'white' ? {\n      borderTopRightRadius: customBoardStyle.borderRadius\n    } : {\n      borderBottomLeftRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  return {};\n};\n\nfunction Squares({\n  children\n}) {\n  const {\n    boardOrientation,\n    boardWidth,\n    customBoardStyle,\n    id\n  } = useChessboard();\n  let squareColor = 'white';\n  return /*#__PURE__*/jsx(\"div\", {\n    \"data-boardid\": id,\n    style: { ...boardStyles(boardWidth),\n      ...customBoardStyle\n    },\n    children: [...Array(8)].map((_, r) => {\n      return /*#__PURE__*/jsx(\"div\", {\n        style: rowStyles(boardWidth),\n        children: [...Array(8)].map((_, c) => {\n          // a1, a2 ...\n          const square = boardOrientation === 'black' ? COLUMNS[7 - c] + (r + 1) : COLUMNS[c] + (8 - r);\n          squareColor = c % 2 === r % 2 ? 'white' : 'black';\n          return children({\n            square,\n            squareColor,\n            col: c,\n            row: r\n          });\n        })\n      }, r.toString());\n    })\n  });\n}\n\nconst boardStyles = width => ({\n  cursor: 'default',\n  height: width,\n  width\n});\n\nconst rowStyles = width => ({\n  display: 'flex',\n  flexWrap: 'nowrap',\n  width\n});\n\nconst errorImage = {\n  whiteKing: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    style: {\n      shapeRendering: 'geometricPrecision',\n      textRendering: 'geometricPrecision',\n      imageRendering: 'optimizeQuality'\n    },\n    viewBox: \"0 0 4210 12970\",\n    x: \"0px\",\n    y: \"0px\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    width: \"250\",\n    height: \"250\",\n    children: /*#__PURE__*/jsx(\"g\", {\n      children: /*#__PURE__*/jsx(\"path\", {\n        style: {\n          fill: 'black',\n          fillRule: 'nonzero'\n        },\n        d: \"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z\"\n      })\n    })\n  })\n};\n\nfunction ErrorBoundary({\n  children\n}) {\n  try {\n    return children;\n  } catch (error) {\n    return /*#__PURE__*/jsx(WhiteKing, {\n      showError: true\n    });\n  }\n}\nfunction WhiteKing({\n  showError = false\n}) {\n  return /*#__PURE__*/jsxs(\"div\", {\n    style: container,\n    children: [/*#__PURE__*/jsx(\"div\", {\n      style: whiteKingStyle,\n      children: errorImage.whiteKing\n    }), showError && /*#__PURE__*/jsx(\"h1\", {\n      children: \"Something went wrong\"\n    })]\n  });\n}\nconst container = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  flexDirection: 'column'\n};\nconst whiteKingStyle = {\n  width: 250,\n  height: 250,\n  transform: 'rotate(90deg)'\n};\n\nfunction Board() {\n  const [squares, setSquares] = useState({});\n  const {\n    boardWidth,\n    showBoardNotation,\n    currentPosition,\n    screenSize,\n    premoves\n  } = useChessboard();\n\n  function getSingleSquareCoordinates(square) {\n    return {\n      sourceSq: squares[square]\n    };\n  }\n\n  function getSquareCoordinates(sourceSquare, targetSquare) {\n    return {\n      sourceSq: squares[sourceSquare],\n      targetSq: squares[targetSquare]\n    };\n  }\n\n  return screenSize && boardWidth ? /*#__PURE__*/jsx(Fragment, {\n    children: /*#__PURE__*/jsx(Squares, {\n      children: ({\n        square,\n        squareColor,\n        col,\n        row\n      }) => {\n        const squareHasPremove = premoves.find(p => p.sourceSq === square || p.targetSq === square);\n        const squareHasPremoveTarget = premoves.find(p => p.targetSq === square);\n        return /*#__PURE__*/jsxs(Square, {\n          square: square,\n          squareColor: squareColor,\n          setSquares: setSquares,\n          squareHasPremove: squareHasPremove,\n          children: [currentPosition[square] && /*#__PURE__*/jsx(Piece, {\n            square: square,\n            piece: currentPosition[square],\n            getSquareCoordinates: getSquareCoordinates,\n            getSingleSquareCoordinates: getSingleSquareCoordinates\n          }), squareHasPremoveTarget && /*#__PURE__*/jsx(Piece, {\n            isPremovedPiece: true,\n            square: square,\n            piece: squareHasPremoveTarget.piece,\n            getSquareCoordinates: getSquareCoordinates,\n            getSingleSquareCoordinates: getSingleSquareCoordinates\n          }), showBoardNotation && /*#__PURE__*/jsx(Notation, {\n            row: row,\n            col: col\n          })]\n        }, `${col}${row}`);\n      }\n    })\n  }) : /*#__PURE__*/jsx(WhiteKing, {});\n}\n\nfunction CDragLayer(props) {\n  const {\n    boardWidth,\n    chessPieces,\n    id\n  } = useChessboard();\n  const {\n    isDragging,\n    item,\n    currentOffset\n  } = props;\n  const layerStyles = {\n    position: 'fixed',\n    pointerEvents: 'none',\n    zIndex: 10,\n    left: 0,\n    top: 0\n  };\n\n  const getItemStyle = currentOffset => {\n    if (!currentOffset) return {\n      display: 'none'\n    };\n    const {\n      x,\n      y\n    } = currentOffset;\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n      transform,\n      WebkitTransform: transform,\n      touchAction: 'none'\n    };\n  };\n\n  return isDragging && item.id === id ? /*#__PURE__*/jsx(\"div\", {\n    style: layerStyles,\n    children: /*#__PURE__*/jsx(\"div\", {\n      style: getItemStyle(currentOffset),\n      children: typeof chessPieces[item.piece] === 'function' ? chessPieces[item.piece]({\n        squareWidth: boardWidth / 8,\n        isDragging: true\n      }) : /*#__PURE__*/jsx(\"svg\", {\n        viewBox: '1 1 43 43',\n        width: boardWidth / 8,\n        height: boardWidth / 8,\n        children: /*#__PURE__*/jsx(\"g\", {\n          children: chessPieces[item.piece]\n        })\n      })\n    })\n  }) : null;\n}\n\nfunction collect(monitor) {\n  return {\n    item: monitor.getItem(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging()\n  };\n}\n\nconst CustomDragLayer = DragLayer(collect)(CDragLayer);\n\nconst Chessboard = /*#__PURE__*/forwardRef((props, ref) => {\n  return /*#__PURE__*/jsx(ErrorBoundary, {\n    children: /*#__PURE__*/jsx(DndProvider, {\n      options: HTML5toTouch,\n      children: /*#__PURE__*/jsxs(ChessboardProvider, {\n        ref: ref,\n        ...props,\n        children: [/*#__PURE__*/jsx(CustomDragLayer, {}), /*#__PURE__*/jsx(\"div\", {\n          children: /*#__PURE__*/jsx(Board, {})\n        })]\n      })\n    })\n  });\n});\nChessboard.propTypes = chessboardPropTypes;\nChessboard.defaultProps = chessboardDefaultProps;\n\nexport { Chessboard };\n"],"sourceRoot":""}